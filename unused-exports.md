# TypeScript Minecraft - Infrastructureå±¤ æœªä½¿ç”¨Exportåˆ†æ

## æ¦‚è¦
Infrastructureå±¤ã®å„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†æã—ã€æœªä½¿ç”¨ã®exportã¨å‰Šé™¤å¯èƒ½ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç‰¹å®šã—ã¾ã—ãŸã€‚ã“ã®åˆ†æã¯ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã¨ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§å‘ä¸Šã®ãŸã‚ã«å®Ÿæ–½ã•ã‚Œã¦ã„ã¾ã™ã€‚

---

## ğŸš¨ å®Œå…¨æœªä½¿ç”¨ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆå‰Šé™¤æ¨å¥¨ï¼‰

### 1. **`src/infrastructure/infrastructure-health.ts`**
- **çŠ¶æ³**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã§ä¸€åˆ‡ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„
- **ã‚µã‚¤ã‚º**: æ¨å®šä¸­è¦æ¨¡
- **å‰Šé™¤å½±éŸ¿**: ãªã—ï¼ˆå®‰å…¨ã«å‰Šé™¤å¯èƒ½ï¼‰
- **æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: ğŸ—‘ï¸ **å³åº§ã«å‰Šé™¤å¯èƒ½**

### 2. **`src/infrastructure/infrastructure-utils.ts`**
- **çŠ¶æ³**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã§ä¸€åˆ‡ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„
- **å†…å®¹**: BasicBrowserAdapters, AdvancedBrowserAdaptersç­‰ã‚’import
- **å•é¡Œ**: ä»–ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’importã—ã¦ã„ã‚‹ãŒã€ãã‚Œè‡ªä½“ãŒä½¿ã‚ã‚Œã¦ã„ãªã„
- **å‰Šé™¤å½±éŸ¿**: ãªã—ï¼ˆå®‰å…¨ã«å‰Šé™¤å¯èƒ½ï¼‰
- **æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: ğŸ—‘ï¸ **å³åº§ã«å‰Šé™¤å¯èƒ½**

### 3. **`src/infrastructure/gpu/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå…¨ä½“**
```
src/infrastructure/gpu/
â”œâ”€â”€ index.ts
â”œâ”€â”€ webgpu-renderer.ts
â”œâ”€â”€ shader-manager.ts
â””â”€â”€ texture-manager.ts
```
- **çŠ¶æ³**: ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå…¨ä½“ãŒæœªä½¿ç”¨
- **è©³ç´°åˆ†æ**:
  - `webgpu-renderer.ts`: ã‚³ãƒ¡ãƒ³ãƒˆå†…ã§ã®ã¿è¨€åŠ
  - `shader-manager.ts`: æœªä½¿ç”¨
  - `texture-manager.ts`: æœªä½¿ç”¨
  - `index.ts`: exportã—ã¦ã„ã‚‹ãŒèª°ã‚‚importã—ã¦ã„ãªã„
- **å‰Šé™¤å½±éŸ¿**: ãªã—
- **æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: ğŸ—‘ï¸ **ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå…¨ä½“ã‚’å‰Šé™¤å¯èƒ½**

### 4. **`src/infrastructure/renderer-three/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå…¨ä½“**
```
src/infrastructure/renderer-three/
â”œâ”€â”€ index.ts
â””â”€â”€ renderer-logic.ts
```
- **çŠ¶æ³**: ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå…¨ä½“ãŒæœªä½¿ç”¨
- **æ³¨æ„**: `renderer-logic.ts`å†…ã§Infrastructureå±¤ã®ä»–ã®éƒ¨åˆ†ã‚’import
- **å‰Šé™¤å½±éŸ¿**: ãªã—
- **æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: ğŸ—‘ï¸ **ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå…¨ä½“ã‚’å‰Šé™¤å¯èƒ½**

---

## âš ï¸ éƒ¨åˆ†çš„æœªä½¿ç”¨ï¼ˆè¦æ³¨æ„ï¼‰

### 5. **`src/infrastructure/network/`**
```
src/infrastructure/network/
â”œâ”€â”€ websocket.layer.ts
â”œâ”€â”€ network-exports.ts
â””â”€â”€ index.ts
```
- **çŠ¶æ³**: å†…éƒ¨ã§exportã‚’å®šç¾©ã—ã¦ã„ã‚‹ãŒå¤–éƒ¨ã‹ã‚‰ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„
- **å•é¡Œ**: network-exports.tså†…ã§å¾ªç’°å‚ç…§ã®å¯èƒ½æ€§
- **æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: ğŸ” **è©³ç´°èª¿æŸ»å¾Œã«å‰Šé™¤æ¤œè¨**

### 6. **`src/infrastructure/storage/`**
```
src/infrastructure/storage/
â”œâ”€â”€ index.ts
â”œâ”€â”€ chunk-cache.ts
â””â”€â”€ world.ts
```
- **çŠ¶æ³**: ä¸€éƒ¨ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯å†…éƒ¨ä¾å­˜é–¢ä¿‚ã‚’æŒã¤ãŒå¤–éƒ¨ã‹ã‚‰æœªä½¿ç”¨
- **è©³ç´°**: 
  - `chunk-cache.ts`: ObjectPoolã‚’ä½¿ç”¨
  - `world.ts`: å®Œå…¨æœªä½¿ç”¨ã®å¯èƒ½æ€§
- **æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: ğŸ” **æ®µéšçš„å‰Šé™¤ã‚’æ¤œè¨**

### 7. **`src/infrastructure/monitoring/`**
```
src/infrastructure/monitoring/
â””â”€â”€ performance-monitor.service.ts
```
- **çŠ¶æ³**: ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼çµŒç”±ã§ã®ã¿ä½¿ç”¨
- **ä½¿ç”¨ç®‡æ‰€**: `adapters/performance-monitor.adapter.ts`
- **åˆ¤å®š**: ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ä¸€éƒ¨ã¨ã—ã¦ä¿æŒ
- **æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: âœ… **ä¿æŒ**

### 8. **`src/infrastructure/communication/`**
```
src/infrastructure/communication/
â””â”€â”€ system-communication.service.ts
```
- **çŠ¶æ³**: ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼çµŒç”±ã§ã®ã¿ä½¿ç”¨
- **ä½¿ç”¨ç®‡æ‰€**: `adapters/system-communication.adapter.ts`
- **åˆ¤å®š**: ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ä¸€éƒ¨ã¨ã—ã¦ä¿æŒ
- **æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: âœ… **ä¿æŒ**

---

## ğŸ”„ å†…éƒ¨ä¾å­˜ã®ã¿ï¼ˆè¦æ¤œè¨ï¼‰

### 9. **Performanceé–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ç¾¤**
è¤‡æ•°ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒç›¸äº’ä¾å­˜ã—ã¦ã„ã¾ã™ãŒã€å¤–éƒ¨ã‹ã‚‰ã®ä½¿ç”¨ãŒé™å®šçš„ã§ã™ï¼š

```
src/infrastructure/performance/
â”œâ”€â”€ profiler.layer.ts
â”œâ”€â”€ latency.layer.ts
â”œâ”€â”€ resource.layer.ts
â”œâ”€â”€ startup.layer.ts
â”œâ”€â”€ optimization.layer.ts
â”œâ”€â”€ fps-counter.layer.ts
â”œâ”€â”€ memory-detector.layer.ts
â””â”€â”€ wasm-integration.layer.ts
```

**åˆ†æçµæœ**:
- **ä½¿ç”¨çŠ¶æ³**: `performance-utils.ts`ãŒçµ±åˆçš„ã«import
- **å¤–éƒ¨ä½¿ç”¨**: GPUé–¢é€£ã‚µãƒ¼ãƒ“ã‚¹ã‚„ãƒ¯ãƒ¼ã‚«ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã§ä½¿ç”¨
- **åˆ¤å®š**: ç¾åœ¨ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ãŸã‚ä¿æŒãŒé©åˆ‡
- **æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: âœ… **ä¿æŒ**ï¼ˆãŸã ã—ä½¿ç”¨çŠ¶æ³ã®ç¶™ç¶šç›£è¦–ãŒå¿…è¦ï¼‰

### 10. **Servicesé–¢é€£**
```
src/infrastructure/services/
â”œâ”€â”€ wasm-integration.service.ts
â”œâ”€â”€ performance-monitor.service.ts
â”œâ”€â”€ raycast-three.ts
â”œâ”€â”€ stats.service.ts
â””â”€â”€ threejs-optimizer.ts
```

**è©³ç´°åˆ†æ**:
- `stats.service.ts`: unified.layerã‹ã‚‰ä½¿ç”¨
- `raycast-three.ts`: three-js adapterã‹ã‚‰ä½¿ç”¨  
- `threejs-optimizer.ts`: ObjectPoolã‚’ä½¿ç”¨
- `wasm-integration.service.ts`: æœªä½¿ç”¨ã®å¯èƒ½æ€§
- `performance-monitor.service.ts`: ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼çµŒç”±ã§ä½¿ç”¨

**æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: ğŸ” **å€‹åˆ¥ã«è©³ç´°èª¿æŸ»ãŒå¿…è¦**

---

## ğŸ§¹ å‰Šé™¤å¯èƒ½ãƒ•ã‚¡ã‚¤ãƒ«ã¾ã¨ã‚

### å³åº§ã«å‰Šé™¤å¯èƒ½ï¼ˆãƒªã‚¹ã‚¯ãªã—ï¼‰
1. âœ… `src/infrastructure/infrastructure-health.ts`
2. âœ… `src/infrastructure/infrastructure-utils.ts`
3. âœ… `src/infrastructure/gpu/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå…¨ä½“
4. âœ… `src/infrastructure/renderer-three/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå…¨ä½“

### è©³ç´°èª¿æŸ»å¾Œã«å‰Šé™¤æ¤œè¨
5. ğŸ” `src/infrastructure/network/`ï¼ˆå¾ªç’°å‚ç…§ã®è§£æ±ºå¾Œï¼‰
6. ğŸ” `src/infrastructure/storage/world.ts`
7. ğŸ” `src/infrastructure/services/wasm-integration.service.ts`

---

## ğŸ“Š å‰Šé™¤ã«ã‚ˆã‚‹å½±éŸ¿åˆ†æ

### ãƒ‡ã‚£ã‚¹ã‚¯ã‚¹ãƒšãƒ¼ã‚¹å‰Šæ¸›
- **å‰Šé™¤å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«æ•°**: 8-12ãƒ•ã‚¡ã‚¤ãƒ«
- **æ¨å®šå‰Šé™¤ã‚µã‚¤ã‚º**: ä¸­è¦æ¨¡ï¼ˆæ•°åƒè¡Œï¼‰
- **ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå‰Šæ¸›**: 2ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå®Œå…¨å‰Šé™¤

### ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§å‘ä¸Š
- **importæ–‡ã®ç°¡ç´ åŒ–**: å¾ªç’°å‚ç…§ãƒªã‚¹ã‚¯ã®è»½æ¸›
- **ãƒ“ãƒ«ãƒ‰æ™‚é–“çŸ­ç¸®**: æœªä½¿ç”¨ãƒ•ã‚¡ã‚¤ãƒ«ã®é™¤å¤–
- **èªçŸ¥è² è·è»½æ¸›**: é–‹ç™ºè€…ãŒãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã™ã¹ããƒ•ã‚¡ã‚¤ãƒ«æ•°ã®å‰Šæ¸›

### ãƒªã‚¹ã‚¯è©•ä¾¡
- **ç ´å£Šçš„å¤‰æ›´**: ãªã—ï¼ˆå®Œå…¨æœªä½¿ç”¨ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ï¼‰
- **å°†æ¥ã®æ‹¡å¼µæ€§**: å¿…è¦æ™‚ã«å†å®Ÿè£…å¯èƒ½
- **ãƒ†ã‚¹ãƒˆå½±éŸ¿**: ãªã—ï¼ˆãƒ†ã‚¹ãƒˆã‚‚æœªä½¿ç”¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã—ã¦ã„ãªã„ï¼‰

---

## ğŸš€ æ¨å¥¨å‰Šé™¤ãƒ—ãƒ­ã‚»ã‚¹

### ãƒ•ã‚§ãƒ¼ã‚º1: å®‰å…¨ãªå‰Šé™¤ï¼ˆå³å®Ÿè¡Œå¯èƒ½ï¼‰
1. `infrastructure-health.ts`ã‚’å‰Šé™¤
2. `infrastructure-utils.ts`ã‚’å‰Šé™¤
3. `gpu/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå…¨ä½“ã‚’å‰Šé™¤
4. `renderer-three/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå…¨ä½“ã‚’å‰Šé™¤

### ãƒ•ã‚§ãƒ¼ã‚º2: è©³ç´°èª¿æŸ»ï¼ˆå¾Œæ—¥å®Ÿæ–½ï¼‰
1. `network/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å¾ªç’°å‚ç…§ã‚’èª¿æŸ»
2. `storage/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å¿…è¦æ€§ã‚’å†è©•ä¾¡
3. `services/`å†…ã®å€‹åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½¿ç”¨çŠ¶æ³ã‚’ç²¾æŸ»

### ãƒ•ã‚§ãƒ¼ã‚º3: ç¶™ç¶šç›£è¦–
1. å®šæœŸçš„ãªæœªä½¿ç”¨exportåˆ†æã®å®Ÿæ–½
2. æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«è¿½åŠ æ™‚ã®ä½¿ç”¨çŠ¶æ³è¿½è·¡
3. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ™‚ã®ä¾å­˜é–¢ä¿‚è¦‹ç›´ã—

---

## ğŸ¯ æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

### çŸ­æœŸçš„åŠ¹æœ
- **ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—**: ç´„10-15%ã®ãƒ•ã‚¡ã‚¤ãƒ«æ•°å‰Šæ¸›
- **ãƒ“ãƒ«ãƒ‰æ™‚é–“çŸ­ç¸®**: æœªä½¿ç”¨ãƒ•ã‚¡ã‚¤ãƒ«ã®é™¤å¤–ã«ã‚ˆã‚‹æœ€é©åŒ–
- **é–‹ç™ºè€…ä½“é¨“å‘ä¸Š**: ã‚ˆã‚Šç„¦ç‚¹ã‚’çµã£ãŸä½œæ¥­ç’°å¢ƒ

### é•·æœŸçš„åŠ¹æœ  
- **æŠ€è¡“å‚µå‹™ã®å‰Šæ¸›**: æœªä½¿ç”¨ã‚³ãƒ¼ãƒ‰ã«ã‚ˆã‚‹æ··ä¹±ã®è§£æ¶ˆ
- **ä¿å®ˆæ€§ã®å‘ä¸Š**: ã‚ˆã‚Šæ˜ç¢ºãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- **æ–°è¦é–‹ç™ºè€…ã®ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°**: ç†è§£ã™ã¹ãç¯„å›²ã®æ˜ç¢ºåŒ–

---

## ğŸ“‹ æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¢ã‚¤ãƒ†ãƒ 

### ä»Šã™ãå®Ÿè¡Œå¯èƒ½
- [ ] infrastructure-health.ts ã‚’å‰Šé™¤
- [ ] infrastructure-utils.ts ã‚’å‰Šé™¤  
- [ ] gpu/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå…¨ä½“ã‚’å‰Šé™¤
- [ ] renderer-three/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå…¨ä½“ã‚’å‰Šé™¤

### è¦èª¿æŸ»ãƒ»æ¤œè¨
- [ ] network/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®è©³ç´°åˆ†æ
- [ ] storage/world.ts ã®ä½¿ç”¨çŠ¶æ³ç¢ºèª
- [ ] services/wasm-integration.service.ts ã®å¿…è¦æ€§è©•ä¾¡

### ç¶™ç¶šç›£è¦–
- [ ] æœªä½¿ç”¨exportæ¤œå‡ºã®è‡ªå‹•åŒ–æ¤œè¨
- [ ] å®šæœŸçš„ãªä¾å­˜é–¢ä¿‚ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–

ã“ã®åˆ†æã«ã‚ˆã‚Šã€Infrastructureå±¤ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãŒå®‰å…¨ã‹ã¤åŠ¹ç‡çš„ã«å®Ÿè¡Œã§ãã‚‹ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ãŒæä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚