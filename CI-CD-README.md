# CI/CD Pipeline Documentation

## æ¦‚è¦

TypeScript Minecraftãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç”¨ã®å®Œå…¨è‡ªå‹•åŒ–ã•ã‚ŒãŸCI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§ã™ã€‚GitHub Actionsã‚’ä½¿ç”¨ã—ã¦ã€ä¸¦åˆ—ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã€ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚

## ðŸš€ ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹æˆ

### 1. CI Pipeline (`.github/workflows/ci.yml`)

**ä¸¦åˆ—å®Ÿè¡Œã‚¸ãƒ§ãƒ–:**
- **Quality Checks**: Lintã€åž‹ãƒã‚§ãƒƒã‚¯ã€å¾ªç’°ä¾å­˜æ¤œå‡º
- **Unit Tests**: Node.js 18/20/22ã§ã®ãƒžãƒˆãƒªãƒƒã‚¯ã‚¹ãƒ†ã‚¹ãƒˆ
- **Build & Bundle Analysis**: ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰ã€ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºãƒã‚§ãƒƒã‚¯
- **Security Scan**: ä¾å­˜é–¢ä¿‚ç›£æŸ»ã€Snykã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³
- **E2E Tests**: ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
- **Performance Tests**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

**å“è³ªã‚²ãƒ¼ãƒˆ:**
- ã‚³ãƒ¼ãƒ‰ã‚«ãƒãƒ¬ãƒƒã‚¸: 90%ä»¥ä¸Šå¿…é ˆ
- TypeScript strict: ã‚¨ãƒ©ãƒ¼0
- ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º: 10MBä»¥ä¸‹
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£: ä¸­ãƒ¬ãƒ™ãƒ«ä»¥ä¸Šã®è„†å¼±æ€§ãªã—

### 2. CD Pipeline (`.github/workflows/cd.yml`)

**ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæ®µéšŽ:**
- **Preview Environment**: å…¨ã¦ã®mainãƒ–ãƒ©ãƒ³ãƒãƒ—ãƒƒã‚·ãƒ¥
- **Staging Environment**: GitHub Pagesè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
- **Production Environment**: ãƒªãƒªãƒ¼ã‚¹æ™‚ã®ã¿
- **Post-deployment Monitoring**: ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã®ç›£è¦–

### 3. Release Pipeline (`.github/workflows/release.yml`)

**è‡ªå‹•ãƒªãƒªãƒ¼ã‚¹æ©Ÿèƒ½:**
- Conventional Commitsãƒ™ãƒ¼ã‚¹ã®ãƒªãƒªãƒ¼ã‚¹åˆ¤å®š
- ã‚»ãƒžãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°
- è‡ªå‹•ãƒªãƒªãƒ¼ã‚¹ãƒŽãƒ¼ãƒˆç”Ÿæˆ
- NPMãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å…¬é–‹ï¼ˆãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆè¨­å®šæ™‚ã¯ç„¡åŠ¹ï¼‰
- Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰
- è¤‡æ•°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œï¼ˆweb/desktopï¼‰

### 4. Performance Pipeline (`.github/workflows/performance.yml`)

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ:**
- ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºè§£æž
- Lighthouseç›£æŸ»
- ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ãƒ†ã‚¹ãƒˆ
- ãƒ­ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ ãƒ™ãƒ³ãƒãƒžãƒ¼ã‚¯

### 5. Monitoring Pipeline (`.github/workflows/monitoring.yml`)

**ãƒ¡ãƒˆãƒªã‚¯ã‚¹åŽé›†:**
- CI/CDæˆåŠŸçŽ‡ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°
- ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆé »åº¦ç›£è¦–
- ãƒªãƒã‚¸ãƒˆãƒªãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æž

## ðŸŽ¯ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹æŒ‡æ¨™

### é”æˆç›®æ¨™
- **CIå®Ÿè¡Œæ™‚é–“**: 5åˆ†ä»¥å†… âœ…
- **ä¸¦åˆ—åº¦**: 8ã‚¸ãƒ§ãƒ–åŒæ™‚å®Ÿè¡Œ âœ…
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆçŽ‡**: 80%ä»¥ä¸Š âœ…
- **ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚é–“**: 2åˆ†ä»¥å†… âœ…

### ç¾åœ¨ã®æœ€é©åŒ–
- pnpmã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥
- ä¾å­˜é–¢ä¿‚ã®ä¸¦åˆ—ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- ãƒžãƒˆãƒªãƒƒã‚¯ã‚¹ãƒ“ãƒ«ãƒ‰ï¼ˆNode.js 18/20/22ï¼‰
- ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã®åŠ¹çŽ‡çš„ãªå…±æœ‰
- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šã«ã‚ˆã‚‹é«˜é€Ÿãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

## ðŸ”§ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

### ä¸»è¦ãƒ•ã‚¡ã‚¤ãƒ«
```
.github/workflows/
â”œâ”€â”€ ci.yml           # ãƒ¡ã‚¤ãƒ³CI ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
â”œâ”€â”€ cd.yml           # ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
â”œâ”€â”€ release.yml      # ãƒªãƒªãƒ¼ã‚¹è‡ªå‹•åŒ–
â”œâ”€â”€ performance.yml  # ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
â””â”€â”€ monitoring.yml   # ãƒ¡ãƒˆãƒªã‚¯ã‚¹åŽé›†

vite.config.ts       # ãƒ“ãƒ«ãƒ‰è¨­å®šï¼ˆCIæœ€é©åŒ–ç‰ˆï¼‰
package.json         # NPMã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆCIå¯¾å¿œï¼‰
Dockerfile          # ãƒžãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚¸Docker ãƒ“ãƒ«ãƒ‰
.dockerignore       # Dockeræœ€é©åŒ–
```

### ç’°å¢ƒå¤‰æ•°è¨­å®š
```bash
# GitHub Secretsï¼ˆå¿…è¦ã«å¿œã˜ã¦è¨­å®šï¼‰
SNYK_TOKEN          # Snykã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³
NPM_TOKEN           # NPMå…¬é–‹ç”¨
CODECOV_TOKEN       # ã‚³ãƒ¼ãƒ‰ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆ
```

## ðŸ” å“è³ªã‚²ãƒ¼ãƒˆè©³ç´°

### ã‚³ãƒ¼ãƒ‰ã‚«ãƒãƒ¬ãƒƒã‚¸
```bash
# è¨­å®šå€¤ï¼ˆvite.config.tsï¼‰
thresholds: {
  global: {
    branches: 90,
    functions: 90, 
    lines: 90,
    statements: 90
  }
}
```

### ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºåˆ¶é™
```bash
# åˆ¶é™å€¤
MAX_SIZE=10485760    # 10MB
WARN_SIZE=8388608    # 8MBï¼ˆè­¦å‘Šãƒ¬ãƒ™ãƒ«ï¼‰
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹é–¾å€¤
```bash
# Lighthouseè¨­å®š
Performance: >80%
Accessibility: >90% 
Best Practices: >90%
SEO: >80%

# ãƒ­ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ 
First Contentful Paint: <2000ms
Largest Contentful Paint: <4000ms
Cumulative Layout Shift: <0.1
```

## ðŸš€ ä½¿ç”¨æ–¹æ³•

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º
```bash
# CIæ¤œè¨¼ç”¨
pnpm run ci:validate    # Lint + åž‹ãƒã‚§ãƒƒã‚¯ + ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸
pnpm run ci:build       # ãƒ•ãƒ« CI ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè¡Œ

# å€‹åˆ¥å®Ÿè¡Œ
pnpm run test:coverage  # ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ããƒ†ã‚¹ãƒˆ
pnpm run analyze:bundle # ãƒãƒ³ãƒ‰ãƒ«åˆ†æž
pnpm run security:audit # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»
```

### ãƒªãƒªãƒ¼ã‚¹ä½œæˆ
```bash
# æ‰‹å‹•ãƒªãƒªãƒ¼ã‚¹ï¼ˆGitHub Actionsï¼‰
# Workflow dispatch ã‹ã‚‰ release_type ã‚’é¸æŠž

# Conventional Commitsä¾‹
git commit -m "feat: add new game feature"     # minor release
git commit -m "fix: resolve collision bug"    # patch release
git commit -m "feat!: breaking API change"    # major release
```

### ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ
```bash
# è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
git push origin main           # Preview + Stagingç’°å¢ƒ
git tag v1.0.0 && git push origin v1.0.0  # Productionç’°å¢ƒ
```

## ðŸ“Š ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°

### ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- GitHub Actions dashboard
- Code coverage reports (codecov.io)
- Performance metrics (Lighthouse CI)
- Security scanning (Snyk)

### ã‚¢ãƒ©ãƒ¼ãƒˆæ¡ä»¶
- CIæˆåŠŸçŽ‡ < 95%
- ãƒ‡ãƒ—ãƒ­ã‚¤å¤±æ•—
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§æ¤œå‡º
- ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºé–¾å€¤è¶…éŽ
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹åŠ£åŒ–

## ðŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### å®Ÿè£…æ¸ˆã¿å¯¾ç­–
- ä¾å­˜é–¢ä¿‚ã®è‡ªå‹•ç›£æŸ»
- Snykã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³
- Dockeréžrootãƒ¦ãƒ¼ã‚¶ãƒ¼å®Ÿè¡Œ
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼è¨­å®š
- ç§˜å¯†æƒ…å ±ã®é©åˆ‡ãªç®¡ç†

### ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
- æœ€å°æ¨©é™ã®åŽŸå‰‡
- ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
- ä¾å­˜é–¢ä¿‚ã®å®šæœŸæ›´æ–°
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ‘ãƒƒãƒã®è¿…é€Ÿé©ç”¨

## ðŸ’¡ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ
1. **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹**: pnpmã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼ã®ç¢ºèª
2. **ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ**: ã‚¸ãƒ§ãƒ–ä¸¦åˆ—æ•°ã®èª¿æ•´
3. **ãƒ¡ãƒ¢ãƒªä¸è¶³**: Node.jsãƒ’ãƒ¼ãƒ—ã‚µã‚¤ã‚ºã®èª¿æ•´
4. **ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆå…±æœ‰å¤±æ•—**: ä¾å­˜é–¢ä¿‚ã®ç¢ºèª

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹æœ€é©åŒ–
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã®è¦‹ç›´ã—
- ä¸¦åˆ—ã‚¸ãƒ§ãƒ–æ•°ã®èª¿æ•´
- ä¸è¦ãªã‚¹ãƒ†ãƒƒãƒ—ã®å‰Šé™¤
- ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã‚µã‚¤ã‚ºã®æœ€é©åŒ–

---

**æœ€çµ‚æ›´æ–°**: 2025å¹´1æœˆ
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0
**ãƒ¡ãƒ³ãƒ†ãƒŠãƒ¼**: TypeScript Minecraft Team