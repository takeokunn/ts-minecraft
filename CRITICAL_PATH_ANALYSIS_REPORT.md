# ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹ç‰¹å®šã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å½±éŸ¿åˆ†æãƒ¬ãƒãƒ¼ãƒˆ

## ğŸ“Š Executive Summary

- **60FPSã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹**: 2ç®‡æ‰€ï¼ˆã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ãƒ»ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼‰
- **é«˜é »åº¦å‘¼ã³å‡ºã—é–¢æ•°ï¼ˆ50+å‚ç…§ï¼‰**: 15é–¢æ•°ä»¥ä¸Š
- **ãƒ¡ãƒ¢ãƒªé›†ç´„çš„å‡¦ç†**: 12ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ34ç®‡æ‰€ã®TypedArrayå‰²ã‚Šå½“ã¦ï¼‰
- **æ—¢å­˜æœ€é©åŒ–ã‚³ãƒ¼ãƒ‰**: 30+ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆCache/Pool/Memoizationï¼‰
- **å‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ç·æ•°**: 2,729ç®‡æ‰€ï¼ˆ527ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

**Phase 1ãƒªã‚¹ã‚¯è©•ä¾¡**: ğŸ”´ é«˜ãƒªã‚¹ã‚¯é ˜åŸŸ2ç®‡æ‰€ã€ğŸŸ¡ ä¸­ãƒªã‚¹ã‚¯é ˜åŸŸ15é–¢æ•°ã€ğŸŸ¢ ä½ãƒªã‚¹ã‚¯é ˜åŸŸå¤šæ•°

---

## ğŸ”´ Phase 1ã§è§¦ã£ã¦ã¯ã„ã‘ãªã„ç®‡æ‰€ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒªã‚¹ã‚¯ï¼šé«˜ï¼‰

### 1. ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ãƒ»ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹

| é–¢æ•°å          | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹                                  | å‘¼ã³å‡ºã—é »åº¦ | å‹å®‰å…¨æ€§èª²é¡Œ                                     | Phase 1å¯¾å¿œ     |
| --------------- | --------------------------------------------- | ------------ | ------------------------------------------------ | --------------- |
| `nextFrame`     | `src/domain/game_loop/legacy/live.ts:263-378` | 60å›/ç§’      | SynchronizedRef.modifyEffectã€Effect.forEachä½¿ç”¨ | **ğŸš« è§¦ã‚‰ãªã„** |
| `updateState`   | `src/domain/game_loop/legacy/live.ts:130-131` | 60å›/ç§’      | SynchronizedRef.updateä½¿ç”¨                       | **ğŸš« è§¦ã‚‰ãªã„** |
| `ensureState`   | `src/domain/game_loop/legacy/live.ts:133-144` | 60å›/ç§’      | Match.valueã€Effect.flatMapä½¿ç”¨                  | **ğŸš« è§¦ã‚‰ãªã„** |
| `deriveMetrics` | `src/domain/game_loop/legacy/live.ts:71-76`   | 60å›/ç§’      | PerformanceMetricsæ§‹ç¯‰                           | **ğŸš« è§¦ã‚‰ãªã„** |

**ç†ç”±**:

- requestAnimationFrameç›¸å½“ã®Effect-TSãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ—
- SynchronizedRefæ“ä½œãŒãƒ•ãƒ¬ãƒ¼ãƒ ã”ã¨ã«å®Ÿè¡Œ
- Effect.forEachã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Ÿè¡ŒãŒãƒœãƒˆãƒ«ãƒãƒƒã‚¯å€™è£œ
- æ—¢ã«Effect-TSã§æœ€é©åŒ–æ¸ˆã¿ï¼ˆè¿½åŠ ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ä¸å¯ï¼‰

### 2. ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ»ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹

| é–¢æ•°å                  | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹                                                  | å‘¼ã³å‡ºã—é »åº¦ | å‹å®‰å…¨æ€§èª²é¡Œ               | Phase 1å¯¾å¿œ     |
| ----------------------- | ------------------------------------------------------------- | ------------ | -------------------------- | --------------- |
| `render`                | `src/infrastructure/three/renderer/webgl_renderer.ts:79-89`   | 60å›/ç§’      | Effect.tryä½¿ç”¨             | **ğŸš« è§¦ã‚‰ãªã„** |
| `withPooledRenderer`    | `src/infrastructure/three/renderer/webgl_renderer.ts:240-243` | 60å›/ç§’      | Pool.useä½¿ç”¨               | **ğŸš« è§¦ã‚‰ãªã„** |
| `makeWebGLRendererPool` | `src/infrastructure/three/renderer/webgl_renderer.ts:228-235` | åˆæœŸåŒ–       | Pool.make + acquireRelease | **ğŸš« è§¦ã‚‰ãªã„** |

**ç†ç”±**:

- THREE.WebGLRendererã®ç›´æ¥å‘¼ã³å‡ºã—ï¼ˆ60fpså¿…é ˆï¼‰
- Pool.useãƒ‘ã‚¿ãƒ¼ãƒ³ã§æ—¢ã«æœ€é©åŒ–æ¸ˆã¿
- Effect.try/acquireReleaseã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãŒæ—¢ã«æœ€å°åŒ–

---

## ğŸŸ¡ Phase 1ã§æ…é‡ã«æ‰±ã†ã¹ãç®‡æ‰€ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒªã‚¹ã‚¯ï¼šä¸­ï¼‰

### 3. é«˜é »åº¦å‘¼ã³å‡ºã—é–¢æ•°ï¼ˆ50+å‚ç…§æƒ³å®šï¼‰

| é–¢æ•°å                 | æ¨å®šãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹                                                     | å‘¼ã³å‡ºã—é »åº¦ | å‹å®‰å…¨æ€§èª²é¡Œ                 | Phase 1å¯¾å¿œ             |
| ---------------------- | -------------------------------------------------------------------- | ------------ | ---------------------------- | ----------------------- |
| `getBlockAt`           | `src/domain/chunk/aggregate/chunk/operations.ts`                     | 1000+å›/ç§’   | Uint16Arrayç›´æ¥æ“ä½œ          | **âš ï¸ ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å¿…é ˆ** |
| `setBlockAt`           | `src/domain/chunk/aggregate/chunk/operations.ts`                     | 100+å›/ç§’    | Uint16Arrayç›´æ¥æ“ä½œ          | **âš ï¸ ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å¿…é ˆ** |
| `generateChunk`        | `src/domain/world/domain_service/procedural_generation/`             | 10-60å›/ç§’   | è¤‡æ•°å®Ÿè£…ã‚ã‚Š                 | **âš ï¸ ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å¿…é ˆ** |
| `updatePosition`       | `src/domain/player/`<br>`src/infrastructure/three/camera/`           | 60å›/ç§’      | Vector3æ“ä½œå¤šæ•°              | **âš ï¸ ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å¿…é ˆ** |
| `processChunk`         | `src/domain/chunk/`                                                  | 10-60å›/ç§’   | ChunkDataæ“ä½œ                | **âš ï¸ ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å¿…é ˆ** |
| `biomeQuery`           | `src/domain/world/repository/biome_system_repository/`               | 100+å›/ç§’    | QuadTreeæ“ä½œ                 | **âš ï¸ ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å¿…é ˆ** |
| `cacheGet`             | `src/domain/world/repository/biome_system_repository/biome_cache.ts` | 1000+å›/ç§’   | Mapæ“ä½œãƒ»LRU                 | **âš ï¸ ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å¿…é ˆ** |
| `computeSkipped`       | `src/domain/game_loop/legacy/live.ts:88-94`                          | 60å›/ç§’      | Match.valueä½¿ç”¨              | **âš ï¸ ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å¿…é ˆ** |
| `observedFpsFromDelta` | `src/domain/game_loop/legacy/live.ts:104-105`                        | 60å›/ç§’      | makeFpsï¼ˆSchemaæ¤œè¨¼ï¼‰        | **âš ï¸ ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å¿…é ˆ** |
| `advanceFrameCount`    | `src/domain/game_loop/legacy/live.ts:107-108`                        | 60å›/ç§’      | makeFrameCountï¼ˆSchemaæ¤œè¨¼ï¼‰ | **âš ï¸ ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å¿…é ˆ** |

**Phase 1å¯¾å¿œæ–¹é‡**:

1. **å‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³é™¤å»å‰ã«å¿…ãšãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯è¨ˆæ¸¬**
2. **Brand Typeå°å…¥æ™‚ã¯Schemaãƒ‡ã‚³ãƒ¼ãƒ‰ã‚³ã‚¹ãƒˆã‚’æ¤œè¨¼**
3. **é«˜é »åº¦é–¢æ•°å†…ã§ã®Effect.genä½¿ç”¨ã¯é¿ã‘ã‚‹**
4. **æ—¢å­˜TypedArrayæ“ä½œã¯ç¶­æŒï¼ˆå‹ã®ã¿ä»˜ä¸ï¼‰**

---

## ğŸ§  ãƒ¡ãƒ¢ãƒªé›†ç´„çš„å‡¦ç†ï¼ˆPhase 1ã§ç‰¹ã«æ³¨æ„ï¼‰

### 4. TypedArrayä½¿ç”¨ç®‡æ‰€ï¼ˆ12ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»34ç®‡æ‰€ï¼‰

| ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹                                             | TypedArrayå‹ | å‰²ã‚Šå½“ã¦ã‚µã‚¤ã‚º | ç”¨é€”                   | Phase 1å¯¾å¿œ       |
| -------------------------------------------------------- | ------------ | -------------- | ---------------------- | ----------------- |
| `src/domain/chunk/aggregate/chunk/operations.ts:248`     | Uint16Array  | 98,304è¦ç´      | ãƒãƒ£ãƒ³ã‚¯ãƒ–ãƒ­ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ | **âœ… å‹ã®ã¿ä»˜ä¸** |
| `src/domain/world/domain_service/noise_generation/`      | Float32Array | å¯å¤‰           | ãƒã‚¤ã‚ºç”Ÿæˆãƒãƒƒãƒ•ã‚¡     | **âœ… å‹ã®ã¿ä»˜ä¸** |
| `src/domain/world/domain_service/procedural_generation/` | Uint8Array   | å¯å¤‰           | æ´çªŸãƒ»é‰±çŸ³ç”Ÿæˆ         | **âœ… å‹ã®ã¿ä»˜ä¸** |

**Phase 1å¯¾å¿œæ–¹é‡**:

```typescript
// âŒ é¿ã‘ã‚‹ã¹ã: Brand Typeã§TypedArrayã‚’ãƒ©ãƒƒãƒ—
type ChunkData = Brand<Uint16Array, 'ChunkData'>

// âœ… æ¨å¥¨: TypedArrayã¯ç”Ÿã®ã¾ã¾ã€æ“ä½œé–¢æ•°ã«ã®ã¿å‹ä»˜ä¸
const getBlockAt = (
  data: Uint16Array, // ãã®ã¾ã¾
  x: BlockX, // Brand Type
  y: BlockY,
  z: BlockZ
): BlockType => {
  /* ... */
}
```

**ç†ç”±**: TypedArrayã®ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯å¤‰æ›´ä¸å¯

---

## âœ… æ—¢å­˜æœ€é©åŒ–ã‚³ãƒ¼ãƒ‰ã®ä¿è­·ï¼ˆPhase 1ã§çµ¶å¯¾ã«å£Šã—ã¦ã¯ã„ã‘ãªã„ï¼‰

### 5. Cache/Pool/Memoizationå®Ÿè£…ï¼ˆ30+ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

| æœ€é©åŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³               | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹                                                                 | å®Ÿè£…è©³ç´°                      | Phase 1å¯¾å¿œ             |
| ---------------------------- | ---------------------------------------------------------------------------- | ----------------------------- | ----------------------- |
| **BiomeCache**               | `src/domain/world/repository/biome_system_repository/biome_cache.ts:159-261` | Ref.make + Map + LRU eviction | **ğŸš« ãƒ­ã‚¸ãƒƒã‚¯å¤‰æ›´ç¦æ­¢** |
| **CacheOptimizationService** | `src/domain/world/application_service/cache_optimization/cache_manager.ts`   | å¤šå±¤ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥            | **ğŸš« ãƒ­ã‚¸ãƒƒã‚¯å¤‰æ›´ç¦æ­¢** |
| **WebGLRendererPool**        | `src/infrastructure/three/renderer/webgl_renderer.ts:228-235`                | Pool.make (size: 3)           | **ğŸš« ãƒ­ã‚¸ãƒƒã‚¯å¤‰æ›´ç¦æ­¢** |
| **EntityPool**               | `src/infrastructure/ecs/entity-manager.ts:132,200,294`                       | allocate/deallocate           | **ğŸš« ãƒ­ã‚¸ãƒƒã‚¯å¤‰æ›´ç¦æ­¢** |
| **WorldGeneratorCache**      | `src/domain/world/`                                                          | ãƒãƒ£ãƒ³ã‚¯ç”Ÿæˆçµæœã‚­ãƒ£ãƒƒã‚·ãƒ¥    | **ğŸš« ãƒ­ã‚¸ãƒƒã‚¯å¤‰æ›´ç¦æ­¢** |

**Phase 1å¯¾å¿œæ–¹é‡**:

- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼ç”Ÿæˆé–¢æ•°**: å‹ã®ã¿ä»˜ä¸ï¼ˆãƒ­ã‚¸ãƒƒã‚¯å¤‰æ›´ç¦æ­¢ï¼‰
- **Pool acquire/release**: Effectå‹ã®ã¿æ˜ç¤ºåŒ–
- **LRU eviction**: ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ å¤‰æ›´ç¦æ­¢

---

## ğŸŸ¢ Phase 1ã§å®‰å…¨ã«è§¦ã‚Œã‚‹ç®‡æ‰€ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒªã‚¹ã‚¯ï¼šä½ï¼‰

### 6. åˆæœŸåŒ–ãƒ»è¨­å®šãƒ»ãƒ‡ãƒãƒƒã‚°ã‚³ãƒ¼ãƒ‰

| ã‚«ãƒ†ã‚´ãƒª           | å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ä¾‹                                                 | ç†ç”±                             |
| ------------------ | -------------------------------------------------------------- | -------------------------------- |
| **åˆæœŸåŒ–å‡¦ç†**     | `src/bootstrap/`<br>`src/application/game-application-live.ts` | 1å›ã®ã¿å®Ÿè¡Œ                      |
| **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«**   | `src/bootstrap/domain/config.ts`                               | åˆæœŸåŒ–æ™‚ã®ã¿èª­ã¿è¾¼ã¿             |
| **å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«** | `src/domain/*/types/index.ts`                                  | å®Ÿè¡Œæ™‚å½±éŸ¿ãªã—                   |
| **Schemaå®šç¾©**     | `*Schema.ts`                                                   | ãƒ‡ã‚³ãƒ¼ãƒ‰ç®‡æ‰€ãŒé«˜é »åº¦ã§ãªã‘ã‚Œã°OK |
| **ã‚¨ãƒ©ãƒ¼å®šç¾©**     | `src/domain/*/errors/`                                         | ä¾‹å¤–ãƒ‘ã‚¹ã®ã¿                     |
| **ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°**   | `console.log`ç³»                                                | æœ¬ç•ªã§ç„¡åŠ¹åŒ–å¯èƒ½                 |

**Phase 1æ¨å¥¨ä½œæ¥­**:

- âœ… åˆæœŸåŒ–å‡¦ç†ã®`as`é™¤å»
- âœ… è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®Brand Typeå°å…¥
- âœ… å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã®æ•´ç†
- âœ… Schemaå®šç¾©ã®å³æ ¼åŒ–ï¼ˆé«˜é »åº¦å‘¼ã³å‡ºã—ã§ãªã„ç®‡æ‰€ï¼‰

---

## ğŸ“ˆ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å®‰å…¨æ€§æˆ¦ç•¥ï¼ˆPhase 1å®Ÿæ–½æ™‚ï¼‰

### 7. ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å¿…é ˆç®‡æ‰€

```bash
# ä¿®æ­£å‰ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯
pnpm benchmark:gameloop     # nextFrameæ€§èƒ½
pnpm benchmark:rendering    # renderæ€§èƒ½
pnpm benchmark:chunk        # getBlockAt/setBlockAtæ€§èƒ½

# ä¿®æ­£å¾Œãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯
# ä¸Šè¨˜3ã¤ã‚’å†å®Ÿè¡Œã—ã€5%ä»¥ä¸Šã®åŠ£åŒ–ãŒã‚ã‚Œã°ä¿®æ­£ã‚’revert
```

### 8. Phase 1ã§ã®å‹å®‰å…¨åŒ–ã®å„ªå…ˆåº¦

| å„ªå…ˆåº¦          | å¯¾è±¡                              | ç†ç”±              |
| --------------- | --------------------------------- | ----------------- |
| **P0 (æœ€å„ªå…ˆ)** | ğŸŸ¢ åˆæœŸåŒ–ãƒ»è¨­å®šã‚³ãƒ¼ãƒ‰             | å®Ÿè¡Œé »åº¦ãŒä½ã„    |
| **P1 (é«˜)**     | ğŸŸ¢ å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«                 | å®Ÿè¡Œæ™‚ã‚³ã‚¹ãƒˆã‚¼ãƒ­  |
| **P2 (ä¸­)**     | ğŸŸ¡ é«˜é »åº¦é–¢æ•°ï¼ˆãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å‰æï¼‰ | å½±éŸ¿è¨ˆæ¸¬å¿…é ˆ      |
| **P3 (ä½)**     | ğŸ”´ ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ãƒ»ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°     | Phase 2ä»¥é™ã«å»¶æœŸ |

### 9. Brand Typeå°å…¥ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

```typescript
// âœ… OK: ä½é »åº¦ãªé–¢æ•°
const createConfig = (fps: number): GameLoopConfig => {
  const targetFps = Schema.decodeSync(FpsSchema)(fps) // åˆæœŸåŒ–æ™‚1å›ã®ã¿
  return { targetFps }
}

// âš ï¸ è¦ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯: ä¸­é »åº¦ãªé–¢æ•°
const updatePlayer = (delta: number): Effect.Effect<void> => {
  const duration = Schema.decodeSync(DurationSchema)(delta) // 60å›/ç§’
  // ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯çµæœãŒ5%ä»¥å†…ã®åŠ£åŒ–ãªã‚‰è¨±å®¹
}

// âŒ NG: é«˜é »åº¦ãªé–¢æ•°
const getBlockAt = (x: number, y: number, z: number): BlockType => {
  const blockX = Schema.decodeSync(BlockXSchema)(x) // 1000+å›/ç§’ â†’ ç¦æ­¢
  // ä»£æ›¿: é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ã®ã¿Brand Typeã€å†…éƒ¨ã¯number
}
```

### 10. Effect-TSã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰å›é¿ãƒ‘ã‚¿ãƒ¼ãƒ³

```typescript
// âŒ é¿ã‘ã‚‹ã¹ã: é«˜é »åº¦é–¢æ•°ã§Effect.gen
const getBlockAt = (data: Uint16Array, x: number, y: number, z: number): Effect.Effect<BlockType> =>
  Effect.gen(function* () {
    // 60fpsä¸‹ã§1000+å›å‘¼ã³å‡ºã— â†’ ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰å¤§
    const index = yield* calculateIndex(x, y, z)
    return data[index]
  })

// âœ… æ¨å¥¨: åŒæœŸé–¢æ•°ã¨ã—ã¦å®Ÿè£…ã€å‹ã®ã¿ä»˜ä¸
const getBlockAt = (data: Uint16Array, x: number, y: number, z: number): BlockType => {
  const index = x + y * 16 + z * 16 * 16
  return data[index] as BlockType // Phase 2ã§Brand TypeåŒ–
}
```

---

## ğŸ¯ Phase 1å®Ÿè¡Œãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### ä¿®æ­£å‰

- [ ] å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ãŒğŸ”´ãƒªã‚¹ã‚¯é ˜åŸŸã«å«ã¾ã‚Œã¦ã„ãªã„ã“ã¨ã‚’ç¢ºèª
- [ ] ğŸŸ¡ãƒªã‚¹ã‚¯é ˜åŸŸã®å ´åˆã€ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆæº–å‚™
- [ ] æ—¢å­˜æœ€é©åŒ–ã‚³ãƒ¼ãƒ‰ï¼ˆCache/Poolï¼‰ã«å½±éŸ¿ã—ãªã„ã“ã¨ã‚’ç¢ºèª
- [ ] list_memories ã§éå»ã®å¤±æ•—ä¾‹ã‚’ç¢ºèª

### ä¿®æ­£ä¸­

- [ ] TypedArrayæ“ä½œã¯å‹ã®ã¿ä»˜ä¸ï¼ˆãƒ­ã‚¸ãƒƒã‚¯å¤‰æ›´ç¦æ­¢ï¼‰
- [ ] Schema.decodeSync ã¯ä½é »åº¦é–¢æ•°ã®ã¿ä½¿ç”¨
- [ ] Effect.gen ã¯åˆæœŸåŒ–å‡¦ç†ã®ã¿ä½¿ç”¨
- [ ] é«˜é »åº¦é–¢æ•°ã¯åŒæœŸé–¢æ•°ã¨ã—ã¦ç¶­æŒ

### ä¿®æ­£å¾Œ

- [ ] pnpm typecheck æˆåŠŸ
- [ ] pnpm test æˆåŠŸ
- [ ] pnpm benchmark ã§5%ä»¥å†…ã®åŠ£åŒ–ç¢ºèª
- [ ] 60fpsç¶­æŒã‚’å®Ÿæ©Ÿã§ç¢ºèª

---

## ğŸ“š å‚ç…§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- `docs/explanations/architecture/performance-guidelines.md` - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™å€¤
- `docs/how-to/development/performance-optimization.md` - æœ€é©åŒ–å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³
- `EXECUTE.md` - ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å…¨ä½“è¨ˆç”»
- `phase1-refactoring-patterns` memory - éå»ã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

---

## ğŸš¨ æœ€é‡è¦åŸå‰‡

**Phase 1ã§ã¯60FPSç¶­æŒãŒæœ€å„ªå…ˆã€‚å‹å®‰å…¨æ€§ã¯äºŒã®æ¬¡ã€‚**

- ğŸ”´ ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ãƒ»ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°: **çµ¶å¯¾ã«è§¦ã‚‰ãªã„**
- ğŸŸ¡ é«˜é »åº¦é–¢æ•°: **ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å¿…é ˆã€5%åŠ£åŒ–ã§å³revert**
- ğŸŸ¢ åˆæœŸåŒ–ãƒ»è¨­å®š: **å®‰å…¨ã«å‹å®‰å…¨åŒ–å¯èƒ½**
- âœ… æ—¢å­˜æœ€é©åŒ–: **çµ¶å¯¾ã«å£Šã•ãªã„**

**ç–‘ã‚ã—ãã¯è§¦ã‚‰ãšã€‚Phase 2ä»¥é™ã«å»¶æœŸã™ã‚‹ã“ã¨ã€‚**
