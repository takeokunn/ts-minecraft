# ã‚µãƒ³ãƒ—ãƒ«å®Ÿè¡Œè¨ˆç”»æ›¸Issue

> **ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€AIå®Ÿè¡Œè¨ˆç”»æ›¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä½¿ç”¨ä¾‹ã§ã™ã€‚ROADMAPã‚¿ã‚¹ã‚¯ã€ŒP1-012: åŸºæœ¬ãƒ–ãƒ­ãƒƒã‚¯ã‚·ã‚¹ãƒ†ãƒ ã€ã‚’ä¾‹ã«ã—ãŸå…·ä½“çš„ãªIssueä½œæˆä¾‹ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚**

---

## ğŸ¤– AIå®Ÿè¡Œè¨ˆç”»æ›¸

**Issueç•ªå·**: #123
**ã‚¿ã‚¤ãƒˆãƒ«**: [EXECUTION] P1-012: åŸºæœ¬ãƒ–ãƒ­ãƒƒã‚¯ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…

### ğŸ“‹ å…¥åŠ›æƒ…å ±

- **ğŸ“ ROADMAP ã‚¿ã‚¹ã‚¯ID**: P1-012
- **ğŸ“ å®Ÿè£…ã‚µã‚¤ã‚º**: M (4-5æ™‚é–“)
- **ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å±¤**: Domain (ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯)
- **ğŸš¨ å„ªå…ˆåº¦**: High (Phaseç›®æ¨™é”æˆã«å¿…é ˆ)
- **â±ï¸ è¦‹ç©ã‚‚ã‚Šæ™‚é–“**: 4.5

---

## ğŸ¯ æ©Ÿèƒ½æ¦‚è¦

Minecraftã®ã‚²ãƒ¼ãƒ ãƒ¯ãƒ¼ãƒ«ãƒ‰ã«ãŠã‘ã‚‹åŸºæœ¬ãƒ–ãƒ­ãƒƒã‚¯ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿè£…ã—ã¾ã™ã€‚

### æŠ€è¡“çš„è¦ä»¶

- Effect-TS Service/Layerãƒ‘ã‚¿ãƒ¼ãƒ³ä½¿ç”¨
- Schema.Struct ã«ã‚ˆã‚‹å‹å®‰å…¨æ€§ç¢ºä¿
- DDD/ECSçµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- ãƒ–ãƒ­ãƒƒã‚¯é…ç½®ãƒ»å‰Šé™¤ãƒ»å–å¾—ã®åŸºæœ¬æ“ä½œ
- ãƒ†ã‚¯ã‚¹ãƒãƒ£ç®¡ç†ã¨ã®é€£æº

### å¯¾è±¡ãƒ–ãƒ­ãƒƒã‚¯ç¨®é¡

- Air (ç©ºæ°—)
- Stone (çŸ³)
- Dirt (åœŸ)
- Grass (è‰ãƒ–ãƒ­ãƒƒã‚¯)
- Wood (æœ¨æ)

---

## ğŸ” Pre-Step: å®Ÿè£…å‰å¿…é ˆç¢ºèª

### âœ… å®Œäº†æ¸ˆã¿ç¢ºèªé …ç›®

#### ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç¢ºèª

- [x] `@docs/INDEX.md` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“æ–¹é‡ç¢ºèª
- [x] `@docs/tutorials/effect-ts-fundamentals/` - Effect-TSãƒ‘ã‚¿ãƒ¼ãƒ³ç¢ºèª
- [x] `@docs/explanations/design-patterns/` - è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ç¢ºèª
- [x] `@docs/how-to/development/development-conventions.md` - é–‹ç™ºè¦ç´„ç¢ºèª

#### ğŸ§  ãƒ¡ãƒ¢ãƒªç¢ºèª

- [x] `list_memories` å®Ÿè¡Œ - éå»ã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ç¢ºèª
- [x] `read_memory effect-ts-scene-patterns` - ã‚·ãƒ¼ãƒ³ç®¡ç†ãƒ‘ã‚¿ãƒ¼ãƒ³ç¢ºèª
- [x] `read_memory service-patterns-catalog` - Serviceå®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ç¢ºèª

#### ğŸ“¦ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä»•æ§˜ç¢ºèª

- [x] Context7 MCP - Effect-TS 3.17+ æœ€æ–°ä»•æ§˜ç¢ºèª
- [x] Context7 MCP - @effect/schema æœ€æ–°APIç¢ºèª
- [x] Context7 MCP - Three.js BoxGeometry/MeshBasicMaterial APIç¢ºèª

#### ğŸ”— ä¾å­˜é–¢ä¿‚ç¢ºèª

- [x] ConfigServiceå®Ÿè£…å®Œäº†ç¢ºèª (#P0-009)
- [x] Three.jsçµ±åˆå®Œäº†ç¢ºèª (#P0-003)
- [x] åŸºæœ¬ECSåŸºç›¤ç¢ºèª (#P1-008)

---

## ğŸ” Step 1: äº‹å‰èª¿æŸ»ãƒ»åˆ†æ

### âœ… å®Ÿè£…å¯¾è±¡ã®è©³ç´°åˆ†æ

- [x] ãƒ–ãƒ­ãƒƒã‚¯è­˜åˆ¥ã‚·ã‚¹ãƒ†ãƒ ï¼ˆBlockType enumï¼‰
- [x] ãƒ–ãƒ­ãƒƒã‚¯é…ç½®åº§æ¨™ç³»ï¼ˆWorldåº§æ¨™ â†’ Chunkåº§æ¨™å¤‰æ›ï¼‰
- [x] ãƒ–ãƒ­ãƒƒã‚¯çŠ¶æ…‹ç®¡ç†ï¼ˆplaced/airçŠ¶æ…‹ï¼‰
- [x] ãƒ†ã‚¯ã‚¹ãƒãƒ£ãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆBlockType â†’ TextureIdï¼‰

### âœ… ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

```typescript
// Serviceè¨­è¨ˆ
const BlockService = Context.GenericTag<BlockService>('@minecraft/domain/BlockService')

// Schemaè¨­è¨ˆ
const BlockSchema = Schema.Struct({
  _tag: Schema.Literal('Block'),
  type: BlockTypeSchema,
  position: Vector3Schema,
  metadata: BlockMetadataSchema,
})

// Layeræ§‹æˆ
const BlockServiceLayer = Layer.effect(BlockService, ...)
```

### âœ… å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

```typescript
// ä½œæˆäºˆå®šãƒ•ã‚¡ã‚¤ãƒ«
;-src / domain / blocks / BlockService.ts -
  src / domain / blocks / schemas / BlockSchema.ts -
  src / domain / blocks / types / BlockTypes.ts -
  src / domain / blocks / BlockService.test.ts -
  src / domain / blocks / systems / BlockRenderSystem.ts -
  src / infrastructure / blocks / BlockLayer.ts
```

### âœ… ECSçµ±åˆè¨­è¨ˆ

- BlockComponent: ãƒ–ãƒ­ãƒƒã‚¯ç¨®é¡ãƒ»ä½ç½®æƒ…å ±
- BlockRenderSystem: ãƒ–ãƒ­ãƒƒã‚¯æç”»ãƒ»ãƒ¡ãƒƒã‚·ãƒ¥ç”Ÿæˆ
- BlockInteractionSystem: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ç›¸äº’ä½œç”¨ï¼ˆä»Šå¾ŒPhaseï¼‰

---

## ğŸ“ Step 2: ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ä½œæˆ

### âœ… å®Ÿè¡Œæ¸ˆã¿ã‚³ãƒãƒ³ãƒ‰

```bash
mkdir -p src/domain/blocks/{services,schemas,types,systems}
mkdir -p src/infrastructure/blocks
mkdir -p src/domain/blocks/__tests__
```

### âœ… ãƒ•ã‚¡ã‚¤ãƒ«éª¨æ ¼ä½œæˆ

- [x] `src/domain/blocks/index.ts` - ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆçµ±åˆ
- [x] `src/domain/blocks/types/index.ts` - å‹å®šç¾©
- [x] ä¸Šä½ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã® `index.ts` æ›´æ–°
- [x] TypeScriptã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ç¢ºèª

---

## ğŸ“ Step 3: å‹å®šç¾©ãƒ»ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

### âœ… Brandedå‹å®šç¾©

```typescript
// å®Ÿè£…æ¸ˆã¿
type BlockId = string & { readonly _brand: 'BlockId' }
type BlockTypeId = string & { readonly _brand: 'BlockTypeId' }
type ChunkPosition = { x: number; y: number; z: number } & { readonly _brand: 'ChunkPosition' }

const BlockIdSchema = Schema.String.pipe(Schema.brand('BlockId'))
const BlockTypeIdSchema = Schema.String.pipe(Schema.brand('BlockTypeId'))
```

### âœ… Core Schemaå®šç¾©

```typescript
// BlockType enum
const BlockTypeSchema = Schema.Literal('air', 'stone', 'dirt', 'grass', 'wood')
type BlockType = Schema.Schema.Type<typeof BlockTypeSchema>

// ãƒ¡ã‚¤ãƒ³ãƒ–ãƒ­ãƒƒã‚¯ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
const BlockSchema = Schema.Struct({
  _tag: Schema.Literal('Block'),
  id: BlockIdSchema,
  type: BlockTypeSchema,
  position: Vector3Schema,
  metadata: BlockMetadataSchema,
  timestamp: Schema.Number, // é…ç½®æ™‚åˆ»
}).annotations({
  identifier: 'Block',
  description: 'ã‚²ãƒ¼ãƒ ãƒ¯ãƒ¼ãƒ«ãƒ‰ã®åŸºæœ¬ãƒ–ãƒ­ãƒƒã‚¯å®šç¾©',
})

type Block = Schema.Schema.Type<typeof BlockSchema>
```

### âœ… è¨­å®šSchema

```typescript
const BlockConfigSchema = Schema.Struct({
  textureAtlasPath: Schema.String,
  blockSize: Schema.Number, // 1.0 = 1x1x1ãƒ–ãƒ­ãƒƒã‚¯
  renderDistance: Schema.Number,
  maxBlocksPerChunk: Schema.Number,
})
```

---

## âš™ï¸ Step 4: Serviceå®Ÿè£…

### âœ… Context.GenericTagå®šç¾©

```typescript
// å®Ÿè£…æ¸ˆã¿ Serviceå®šç¾©
export const BlockService = Context.GenericTag<BlockService>('@minecraft/domain/BlockService')

export interface BlockService {
  readonly placeBlock: (type: BlockType, position: Vector3) => Effect.Effect<Block, BlockError>
  readonly removeBlock: (position: Vector3) => Effect.Effect<void, BlockError>
  readonly getBlock: (position: Vector3) => Effect.Effect<Option.Option<Block>, BlockError>
  readonly getBlocksInRange: (min: Vector3, max: Vector3) => Effect.Effect<ReadonlyArray<Block>, BlockError>
  readonly isValidPosition: (position: Vector3) => Effect.Effect<boolean, never>
}
```

### âœ… Serviceå®Ÿè£…

```typescript
class BlockServiceImpl implements BlockService {
  readonly placeBlock = (type: BlockType, position: Vector3) =>
    Effect.gen(function* () {
      // 1. ä½ç½®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
      const isValid = yield* this.isValidPosition(position)
      if (!isValid) {
        return yield* Effect.fail(new InvalidPositionError({ position }))
      }

      // 2. æ—¢å­˜ãƒ–ãƒ­ãƒƒã‚¯ç¢ºèª
      const existing = yield* this.getBlock(position)
      if (Option.isSome(existing) && existing.value.type !== 'air') {
        return yield* Effect.fail(new BlockAlreadyExistsError({ position }))
      }

      // 3. ãƒ–ãƒ­ãƒƒã‚¯ä½œæˆ
      const blockId = yield* generateBlockId()
      const block = {
        _tag: 'Block' as const,
        id: blockId,
        type,
        position,
        metadata: { hardness: getBlockHardness(type) },
        timestamp: Date.now(),
      }

      // 4. ãƒ¯ãƒ¼ãƒ«ãƒ‰ã«è¿½åŠ 
      yield* worldStorage.setBlock(position, block)
      yield* Effect.log(`Block placed: ${type} at ${formatVector3(position)}`)

      return block
    })

  // ä»–ã®ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…...
}
```

### âœ… Layerå®Ÿè£…

```typescript
export const BlockServiceLayer = Layer.effect(
  BlockService,
  Effect.gen(function* () {
    const logger = yield* LoggerService
    const config = yield* ConfigService
    const worldStorage = yield* WorldStorageService

    yield* logger.info('BlockService initializing...')

    return new BlockServiceImpl()
  })
)

export const BlockServiceLive = BlockServiceLayer.pipe(
  Layer.provide(LoggerServiceLayer),
  Layer.provide(ConfigServiceLayer),
  Layer.provide(WorldStorageServiceLayer)
)
```

### âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

```typescript
export class BlockError extends Data.TaggedError('BlockError')<{
  readonly cause: unknown
  readonly message: string
}> {}

export class InvalidPositionError extends Data.TaggedError('InvalidPositionError')<{
  readonly position: Vector3
}> {}

export class BlockAlreadyExistsError extends Data.TaggedError('BlockAlreadyExistsError')<{
  readonly position: Vector3
}> {}
```

---

## ğŸ® Step 5: ECSã‚·ã‚¹ãƒ†ãƒ çµ±åˆ

### âœ… Componentå®šç¾©

```typescript
// ECS Block Component
const BlockComponent = Schema.Struct({
  _tag: Schema.Literal('BlockComponent'),
  blockId: BlockIdSchema,
  blockType: BlockTypeSchema,
  mesh: Schema.Optional(ThreeMeshSchema), // Three.js Meshå‚ç…§
  needsRender: Schema.Boolean,
}).annotations({
  identifier: 'BlockComponent',
})

type BlockComponent = Schema.Schema.Type<typeof BlockComponent>
```

### âœ… Render Systemå®Ÿè£…

```typescript
export const BlockRenderSystem = System.create('BlockRenderSystem', {
  components: [BlockComponent, TransformComponent] as const,

  update: (entities, deltaTime) =>
    Effect.gen(function* () {
      const renderer = yield* RendererService
      const textureManager = yield* TextureManagerService

      for (const entity of entities) {
        const blockComp = entity.get(BlockComponent)
        const transform = entity.get(TransformComponent)

        // ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒå¿…è¦ãªå ´åˆã®ã¿å‡¦ç†
        if (blockComp.needsRender) {
          // ãƒ¡ãƒƒã‚·ãƒ¥ç”Ÿæˆ
          const texture = yield* textureManager.getBlockTexture(blockComp.blockType)
          const geometry = new THREE.BoxGeometry(1, 1, 1)
          const material = new THREE.MeshBasicMaterial({ map: texture })
          const mesh = new THREE.Mesh(geometry, material)

          // ä½ç½®è¨­å®š
          mesh.position.copy(transform.position)

          // ã‚·ãƒ¼ãƒ³ã«è¿½åŠ 
          yield* renderer.addToScene(mesh)

          // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ›´æ–°
          yield* entity.updateComponent(BlockComponent, {
            ...blockComp,
            mesh: Option.some(mesh),
            needsRender: false,
          })
        }
      }
    }),
})
```

### âœ… Entityæ“ä½œãƒ˜ãƒ«ãƒ‘ãƒ¼

```typescript
export const createBlockEntity = (block: Block) =>
  Effect.gen(function* () {
    const entityManager = yield* EntityManager

    const entity = yield* entityManager.createEntity()

    yield* entity.addComponent(BlockComponent, {
      _tag: 'BlockComponent',
      blockId: block.id,
      blockType: block.type,
      mesh: Option.none(),
      needsRender: true,
    })

    yield* entity.addComponent(TransformComponent, {
      position: block.position,
      rotation: Vector3.zero,
      scale: Vector3.one,
    })

    return entity
  })
```

---

## ğŸ§ª Step 6: ãƒ†ã‚¹ãƒˆå®Ÿè£…

### âœ… ãƒ†ã‚¹ãƒˆè¨­å®š

```typescript
// BlockService.test.ts
import { Effect, TestContext, Layer } from 'effect'
import { describe, it, expect } from 'vitest'
import * as fc from '@effect/vitest'

const testLayer = Layer.mergeAll(BlockServiceLayer, TestLoggerLayer, TestConfigLayer, TestWorldStorageLayer)
```

### âœ… å˜ä½“ãƒ†ã‚¹ãƒˆ

```typescript
describe('BlockService', () => {
  it('should place block at valid position', async () => {
    const program = Effect.gen(function* () {
      const service = yield* BlockService
      const position = { x: 0, y: 0, z: 0 }

      const block = yield* service.placeBlock('stone', position)

      expect(block.type).toBe('stone')
      expect(block.position).toEqual(position)
      expect(block.id).toBeDefined()
    })

    await Effect.runPromise(program.pipe(Effect.provide(testLayer)))
  })

  it('should fail when placing block at occupied position', async () => {
    const program = Effect.gen(function* () {
      const service = yield* BlockService
      const position = { x: 0, y: 0, z: 0 }

      yield* service.placeBlock('stone', position)

      const result = yield* service.placeBlock('dirt', position).pipe(
        Effect.flip,
        Effect.match({
          onFailure: (error) => error,
          onSuccess: () => new Error('Should have failed'),
        })
      )

      expect(result).toBeInstanceOf(BlockAlreadyExistsError)
    })

    await Effect.runPromise(program.pipe(Effect.provide(testLayer)))
  })

  it('should remove block successfully', async () => {
    const program = Effect.gen(function* () {
      const service = yield* BlockService
      const position = { x: 1, y: 1, z: 1 }

      yield* service.placeBlock('wood', position)
      yield* service.removeBlock(position)

      const result = yield* service.getBlock(position)
      expect(Option.isNone(result)).toBe(true)
    })

    await Effect.runPromise(program.pipe(Effect.provide(testLayer)))
  })
})
```

### âœ… Property-based Testing

```typescript
describe('BlockService Property Tests', () => {
  it('place then get should return same block', async () => {
    await it.prop(
      fc.asyncProperty(
        fc.record({
          x: fc.integer({ min: -100, max: 100 }),
          y: fc.integer({ min: 0, max: 255 }),
          z: fc.integer({ min: -100, max: 100 }),
        }),
        fc.constantFrom('stone', 'dirt', 'grass', 'wood'),
        async (position, blockType) => {
          const program = Effect.gen(function* () {
            const service = yield* BlockService

            const placed = yield* service.placeBlock(blockType, position)
            const retrieved = yield* service.getBlock(position)

            expect(Option.isSome(retrieved)).toBe(true)
            if (Option.isSome(retrieved)) {
              expect(retrieved.value.type).toBe(blockType)
              expect(retrieved.value.position).toEqual(position)
            }
          })

          await Effect.runPromise(program.pipe(Effect.provide(testLayer)))
        }
      )
    )
  })
})
```

### âœ… ã‚«ãƒãƒ¬ãƒƒã‚¸ç¢ºèªçµæœ

- ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸: 87%
- ãƒ–ãƒ©ãƒ³ãƒã‚«ãƒãƒ¬ãƒƒã‚¸: 82%
- é–¢æ•°ã‚«ãƒãƒ¬ãƒƒã‚¸: 100%
- ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹å®Œå…¨ãƒ†ã‚¹ãƒˆæ¸ˆã¿

---

## ğŸ”— Step 7: çµ±åˆãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

### âœ… ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

```typescript
// src/domain/blocks/index.ts
export * from './services/BlockService'
export * from './schemas/BlockSchema'
export * from './types/BlockTypes'
export * from './systems/BlockRenderSystem'

// å‹ã®ã¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
export type { Block, BlockType, BlockConfig, BlockId } from './types'

// Layerçµ±åˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
export { BlockServiceLive as BlockLayer } from './services/BlockService'
export { BlockRenderSystem } from './systems/BlockRenderSystem'
```

### âœ… ä¸Šä½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«çµ±åˆ

```typescript
// src/domain/index.ts ã«è¿½åŠ 
export * from './blocks'

// src/index.ts ã«è¿½åŠ 
export * from './domain/blocks'
```

### âœ… ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³çµ±åˆ

```typescript
// src/application/WorldManagement.ts ã§ã®ä½¿ç”¨ä¾‹
export const placeBlockUseCase = (type: BlockType, position: Vector3) =>
  Effect.gen(function* () {
    const blockService = yield* BlockService
    const block = yield* blockService.placeBlock(type, position)

    // ECSã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ä½œæˆ
    const entity = yield* createBlockEntity(block)

    yield* Effect.log(`Block placed successfully: ${block.id}`)
    return { block, entity }
  })
```

---

## âœ… Step 8: å“è³ªç¢ºèªãƒ»æœ€é©åŒ–

### âœ… ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯çµæœ

```bash
# å‹ãƒã‚§ãƒƒã‚¯
âœ… pnpm typecheck
# â†’ TypeScriptã‚¨ãƒ©ãƒ¼0ä»¶

# Lintãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
âœ… pnpm check
# â†’ oxlint, Prettierã‚¨ãƒ©ãƒ¼0ä»¶

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
âœ… pnpm test
# â†’ å…¨ãƒ†ã‚¹ãƒˆ PASSã€ã‚«ãƒãƒ¬ãƒƒã‚¸ 87%

# ãƒ“ãƒ«ãƒ‰ç¢ºèª
âœ… pnpm build
# â†’ ãƒ“ãƒ«ãƒ‰æˆåŠŸ
```

### âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç¢ºèª

- [x] ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯æ¤œæŸ»: å•é¡Œãªã—
- [x] 1000ãƒ–ãƒ­ãƒƒã‚¯é…ç½®æ™‚ã®å‹•ä½œ: 60FPSç¶­æŒ
- [x] Bundle sizeå½±éŸ¿: +15KBï¼ˆè¨±å®¹ç¯„å›²å†…ï¼‰

### âœ… ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°

```markdown
# æ›´æ–°å®Œäº†ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

âœ… docs/reference/api/BlockAPI.md - APIä»•æ§˜æ›¸
âœ… docs/explanations/design-patterns/BlockPattern.md - å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³
âœ… docs/how-to/blocks/placing-blocks.md - ä½¿ç”¨æ–¹æ³•
âœ… CHANGELOG.md - v0.1.0 æ©Ÿèƒ½è¿½åŠ è¨˜éŒ²
```

---

## ğŸ‰ Post-Step: å®Œäº†å¾Œå‡¦ç†

### âœ… Issueå®Œäº†ç¢ºèª

- [x] å…¨Acceptance Criteriaé”æˆç¢ºèª
- [x] å…¨Stepå®Ÿè¡Œå®Œäº†ç¢ºèª
- [x] CI/CDå®Œå…¨PASSç¢ºèª

### âœ… ä¾å­˜é–¢ä¿‚æ›´æ–°

- [x] #P1-013 (ãƒãƒ£ãƒ³ã‚¯ã‚·ã‚¹ãƒ†ãƒ ) ã‚’ "ready" çŠ¶æ…‹ã«æ›´æ–°
- [x] #P1-014 (ãƒ¯ãƒ¼ãƒ«ãƒ‰ç”Ÿæˆ) ã‚’ "ready" çŠ¶æ…‹ã«æ›´æ–°
- [x] é–¢é€£Issueã¸ã®BlockServiceå®Ÿè£…å®Œäº†ãƒªãƒ³ã‚¯

### âœ… ãƒŠãƒ¬ãƒƒã‚¸ä¿å­˜

```typescript
// write_memory å®Ÿè¡Œæ¸ˆã¿
memory_name: "block-system-implementation-patterns"
content: |
  # ãƒ–ãƒ­ãƒƒã‚¯ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

  ## Service/Layeræ§‹æˆ
  - Context.GenericTag: @minecraft/domain/BlockService
  - Schema.Struct: BlockSchema, BlockConfigSchema, BlockComponent
  - Layer.effect: ä¾å­˜æ³¨å…¥ï¼ˆLogger, Config, WorldStorageï¼‰

  ## ECSçµ±åˆ
  - Component: BlockComponent (blockId, blockType, mesh, needsRender)
  - System: BlockRenderSystem (Three.js ãƒ¡ãƒƒã‚·ãƒ¥ç”Ÿæˆãƒ»æ›´æ–°)

  ## ãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³
  - Property-based testing: position/blockTypeçµ„ã¿åˆã‚ã›
  - ã‚«ãƒãƒ¬ãƒƒã‚¸: 87%é”æˆ

  ## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
  - 1000ãƒ–ãƒ­ãƒƒã‚¯: 60FPSç¶­æŒ
  - ãƒ¡ãƒ¢ãƒª: è¿½åŠ 15MB (è¨±å®¹ç¯„å›²)

  ## å­¦ç¿’äº‹é …
  - Vector3ä½ç½®ã®æ­£è¦åŒ–ãŒé‡è¦ï¼ˆæ•´æ•°åº§æ¨™å¼·åˆ¶ï¼‰
  - Optionå‹æ´»ç”¨ã§ãƒ–ãƒ­ãƒƒã‚¯å­˜åœ¨åˆ¤å®šã®å®‰å…¨æ€§ç¢ºä¿
  - Three.js Meshç”Ÿæˆã®ãƒãƒƒãƒå‡¦ç†ã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š
```

### âœ… PRä½œæˆãƒ»CIç¢ºèª

- [x] PR #123 ä½œæˆ: "feat: implement basic block system (P1-012)"
- [x] GitHub Actions CIå®Œå…¨æˆåŠŸ
- [x] å…¨å“è³ªã‚²ãƒ¼ãƒˆPASS
- [x] ãƒ¬ãƒ“ãƒ¥ãƒ¼æº–å‚™å®Œäº†

---

## âœ… Acceptance Criteriaï¼ˆé”æˆç¢ºèªï¼‰

### âœ… æ©Ÿèƒ½è¦ä»¶

- [x] ãƒ–ãƒ­ãƒƒã‚¯é…ç½®æ©Ÿèƒ½ï¼ˆ5ç¨®é¡å¯¾å¿œ: air, stone, dirt, grass, woodï¼‰
- [x] ãƒ–ãƒ­ãƒƒã‚¯å‰Šé™¤æ©Ÿèƒ½
- [x] ãƒ–ãƒ­ãƒƒã‚¯å–å¾—æ©Ÿèƒ½ï¼ˆä½ç½®æŒ‡å®šï¼‰
- [x] ç¯„å›²å†…ãƒ–ãƒ­ãƒƒã‚¯ä¸€è¦§å–å¾—æ©Ÿèƒ½
- [x] ä½ç½®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½

### âœ… æŠ€è¡“è¦ä»¶

- [x] TypeScriptå‹ã‚¨ãƒ©ãƒ¼0ä»¶
- [x] ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ â‰¥80% (å®Ÿç¸¾: 87%)
- [x] CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æˆåŠŸ
- [x] BlockService APIå®Œå…¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–

### âœ… å“è³ªè¦ä»¶

- [x] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™é”æˆï¼ˆ60FPSç¶­æŒï¼‰
- [x] ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ â‰¤2GBï¼ˆå®Ÿç¸¾: +15MBï¼‰
- [x] ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼æº–å‚™å®Œäº†

---

## ğŸ”— ä¾å­˜é–¢ä¿‚ï¼ˆæœ€çµ‚çŠ¶æ…‹ï¼‰

### âœ… äº‹å‰å®Œäº†æ¸ˆã¿ï¼ˆCompleted Dependenciesï¼‰

- [x] #P0-009 - ConfigServiceå®Ÿè£…
- [x] #P0-003 - Three.jsçµ±åˆ
- [x] #P1-008 - ECSåŸºç›¤å®Ÿè£…

### ğŸŸ¢ ã“ã®Issueå®Œäº†ã«ã‚ˆã‚Š Ready ã¨ãªã‚‹ Issues

- [x] #P1-013 - ãƒãƒ£ãƒ³ã‚¯ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…
- [x] #P1-014 - ãƒ¯ãƒ¼ãƒ«ãƒ‰ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ 
- [x] #P1-015 - ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ–ãƒ­ãƒƒã‚¯ç›¸äº’ä½œç”¨

### ğŸ”µ é–¢é€£å®Œäº†Issue

- [x] #P1-010 - RendererServiceï¼ˆé€£æºç¢ºèªæ¸ˆã¿ï¼‰
- [x] #P1-011 - TextureManagerServiceï¼ˆé€£æºç¢ºèªæ¸ˆã¿ï¼‰

---

## ğŸ› ï¸ æœ€çµ‚å®Ÿè£…çµ±è¨ˆ

- **å®Ÿè£…æ™‚é–“**: 4.2æ™‚é–“ï¼ˆè¦‹ç©ã‚‚ã‚Š4.5æ™‚é–“å†…ï¼‰
- **ä½œæˆãƒ•ã‚¡ã‚¤ãƒ«æ•°**: 12ãƒ•ã‚¡ã‚¤ãƒ«
- **ç·è¡Œæ•°**: 847è¡Œï¼ˆå®Ÿè£… + ãƒ†ã‚¹ãƒˆï¼‰
- **ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æ•°**: 28å€‹
- **ã‚«ãƒãƒ¬ãƒƒã‚¸**: 87%
- **å‹ã‚¨ãƒ©ãƒ¼**: 0ä»¶
- **Lintã‚¨ãƒ©ãƒ¼**: 0ä»¶

---

## ğŸ¯ æˆæœãƒ»å­¦ç¿’äº‹é …

### âœ… æˆæœ

1. **å®Œå…¨ãªå‹å®‰å…¨æ€§**: Schema.Struct + Brandedå‹ã«ã‚ˆã‚‹å …ç‰¢ãªå®Ÿè£…
2. **é«˜ã„ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£**: Property-based testingå«ã‚€åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆ
3. **å„ªã‚ŒãŸãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: 1000ãƒ–ãƒ­ãƒƒã‚¯ @ 60FPSé”æˆ
4. **ä¿å®ˆæ€§**: Effect-TS Pattern + DDDæ§‹é€ ã«ã‚ˆã‚‹æ˜ç¢ºãªè²¬å‹™åˆ†é›¢

### âœ… ä»Šå¾Œã®æ”¹å–„ç‚¹

1. **ãƒãƒƒãƒå‡¦ç†æœ€é©åŒ–**: è¤‡æ•°ãƒ–ãƒ­ãƒƒã‚¯åŒæ™‚æ“ä½œã®ã•ã‚‰ãªã‚‹é«˜é€ŸåŒ–
2. **ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥**: é »ç¹ã‚¢ã‚¯ã‚»ã‚¹ä½ç½®ã®ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥å°å…¥
3. **LODå¯¾å¿œ**: è·é›¢åˆ¥ã®è©³ç´°åº¦èª¿æ•´ã‚·ã‚¹ãƒ†ãƒ 

**Issue #123: P1-012 åŸºæœ¬ãƒ–ãƒ­ãƒƒã‚¯ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£… - âœ… å®Œäº†**
