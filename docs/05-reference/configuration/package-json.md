# package.json ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

TypeScript Minecraftãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®`package.json`è¨­å®šå®Œå…¨ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã§ã™ã€‚

## ğŸ“‹ åŸºæœ¬æƒ…å ±

```json
{
  "name": "ts-minecraft",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "sideEffects": false
}
```

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å€¤ | èª¬æ˜ |
|-----------|---|------|
| `name` | `ts-minecraft` | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå |
| `private` | `true` | npmå…¬é–‹ã‚’ç¦æ­¢ï¼ˆãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼‰ |
| `version` | `0.0.0` | ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚° |
| `type` | `module` | ES Modulesä½¿ç”¨ã‚’å®£è¨€ |
| `sideEffects` | `false` | Tree-shakingã®æœ€é©åŒ–ã‚’æœ‰åŠ¹åŒ– |

## ğŸš€ ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®šç¾©

### é–‹ç™ºãƒ»ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

| ã‚¹ã‚¯ãƒªãƒ—ãƒˆ | ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|-----------|---------|------|
| `dev` | `vite` | é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹• |
| `build` | `tsc && vite build` | TypeScriptå‹ãƒã‚§ãƒƒã‚¯å¾Œã«ãƒ“ãƒ«ãƒ‰ |
| `type-check` | `tsc --pretty` | TypeScriptå‹ãƒã‚§ãƒƒã‚¯ |
| `typecheck` | `tsc --pretty` | å‹ãƒã‚§ãƒƒã‚¯ï¼ˆã‚¨ã‚¤ãƒªã‚¢ã‚¹ï¼‰ |

**ä½¿ç”¨ä¾‹**:
```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev

# ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰
npm run build

# å‹ãƒã‚§ãƒƒã‚¯ã®ã¿å®Ÿè¡Œ
npm run type-check
```

### ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ

| ã‚¹ã‚¯ãƒªãƒ—ãƒˆ | ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|-----------|---------|------|
| `test` | `vitest` | Vitestã«ã‚ˆã‚‹ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ |

**ä½¿ç”¨ä¾‹**:
```bash
# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm test

# ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰
npm test -- --watch

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ããƒ†ã‚¹ãƒˆ
npm test -- --coverage
```

### å“è³ªç®¡ç†ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

| ã‚¹ã‚¯ãƒªãƒ—ãƒˆ | ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|-----------|---------|------|
| `lint` | `oxlint --deny-warnings --allow no-restricted-globals` | OXLint ã«ã‚ˆã‚‹é«˜é€Ÿãƒªãƒ³ãƒˆ |
| `lint:fix` | `oxlint --fix` | è‡ªå‹•ä¿®æ­£å¯èƒ½ãªãƒªãƒ³ãƒˆã‚¨ãƒ©ãƒ¼ã‚’ä¿®æ­£ |
| `format` | `prettier --write . --ignore-path .gitignore && oxlint --fix` | ã‚³ãƒ¼ãƒ‰æ•´å½¢ + ãƒªãƒ³ãƒˆä¿®æ­£ |
| `format:check` | `prettier --check . --ignore-path .gitignore` | æ•´å½¢ãƒã‚§ãƒƒã‚¯ï¼ˆä¿®æ­£ãªã—ï¼‰ |

**ä½¿ç”¨ä¾‹**:
```bash
# ãƒªãƒ³ãƒˆãƒã‚§ãƒƒã‚¯
npm run lint

# ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå®Ÿè¡Œ
npm run format

# CIç”¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒã‚§ãƒƒã‚¯
npm run format:check
```

## ğŸ“¦ ä¾å­˜é–¢ä¿‚

### æœ¬ç•ªä¾å­˜é–¢ä¿‚ (dependencies)

#### Effect-TS ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ 
```json
{
  "@effect/platform": "^0.90.9",
  "@effect/schema": "^0.75.5",
  "effect": "^3.17.13"
}
```

| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|-----------|-----------|------|
| `effect` | `^3.17.13` | Effect-TSã‚³ã‚¢æ©Ÿèƒ½ |
| `@effect/schema` | `^0.75.5` | ã‚¹ã‚­ãƒ¼ãƒå®šç¾©ãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ |
| `@effect/platform` | `^0.90.9` | ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å›ºæœ‰æ©Ÿèƒ½ |

#### 3Dã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹
```json
{
  "three": "^0.179.1",
  "gl-matrix": "^3.4.4",
  "stats.js": "^0.17.0"
}
```

| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|-----------|-----------|------|
| `three` | `^0.179.1` | 3Dãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒª |
| `gl-matrix` | `^3.4.4` | WebGLè¡Œåˆ—æ¼”ç®— |
| `stats.js` | `^0.17.0` | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦– |

#### ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
```json
{
  "alea": "^1.0.1",
  "simplex-noise": "^4.0.3",
  "uuid": "^11.1.0"
}
```

| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|-----------|-----------|------|
| `alea` | `^1.0.1` | ã‚·ãƒ¼ãƒ‰å¯èƒ½ãªç–‘ä¼¼ä¹±æ•°ç”Ÿæˆå™¨ |
| `simplex-noise` | `^4.0.3` | Minecraftåœ°å½¢ç”Ÿæˆç”¨ãƒã‚¤ã‚º |
| `uuid` | `^11.1.0` | ãƒ¦ãƒ‹ãƒ¼ã‚¯IDç”Ÿæˆ |

### é–‹ç™ºä¾å­˜é–¢ä¿‚ (devDependencies)

#### TypeScriptãƒ»ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«
```json
{
  "typescript": "^5.9.2",
  "vite": "^7.1.5",
  "vite-tsconfig-paths": "^5.1.4",
  "tsx": "^4.20.5"
}
```

| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|-----------|-----------|------|
| `typescript` | `^5.9.2` | TypeScriptã‚³ãƒ³ãƒ‘ã‚¤ãƒ© |
| `vite` | `^7.1.5` | é«˜é€Ÿãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ« |
| `vite-tsconfig-paths` | `^5.1.4` | TypeScriptãƒ‘ã‚¹ãƒãƒƒãƒ”ãƒ³ã‚° |
| `tsx` | `^4.20.5` | TypeScriptå®Ÿè¡Œç’°å¢ƒ |

#### ãƒ†ã‚¹ãƒˆé–¢é€£
```json
{
  "vitest": "^3.2.4",
  "@vitest/coverage-v8": "^3.2.4",
  "@vitest/ui": "^3.2.4",
  "@effect/vitest": "^0.25.1",
  "@effect/test": "^0.1.0",
  "canvas": "^3.2.0"
}
```

| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|-----------|-----------|------|
| `vitest` | `^3.2.4` | é«˜é€Ÿãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼ |
| `@vitest/coverage-v8` | `^3.2.4` | ã‚³ãƒ¼ãƒ‰ã‚«ãƒãƒ¬ãƒƒã‚¸ |
| `@vitest/ui` | `^3.2.4` | ãƒ†ã‚¹ãƒˆUI |
| `@effect/vitest` | `^0.25.1` | Effect-TSç”¨Vitestãƒ—ãƒ©ã‚°ã‚¤ãƒ³ |
| `@effect/test` | `^0.1.0` | Effect-TSç”¨ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ |
| `canvas` | `^3.2.0` | Node.js Canvas API (ãƒ†ã‚¹ãƒˆç”¨) |

#### å“è³ªç®¡ç†ãƒ„ãƒ¼ãƒ«
```json
{
  "oxlint": "^1.15.0",
  "prettier": "^3.6.2",
  "madge": "^8.0.0"
}
```

| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|-----------|-----------|------|
| `oxlint` | `^1.15.0` | Rustè£½é«˜é€Ÿãƒªãƒ³ã‚¿ãƒ¼ |
| `prettier` | `^3.6.2` | ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼ |
| `madge` | `^8.0.0` | ä¾å­˜é–¢ä¿‚åˆ†æãƒ„ãƒ¼ãƒ« |

#### å‹å®šç¾©
```json
{
  "@types/three": "^0.179.0",
  "@types/uuid": "^10.0.0",
  "@types/file-saver": "^2.0.7",
  "@types/stats.js": "^0.17.4",
  "@webgpu/types": "^0.1.64"
}
```

#### ã‚¤ãƒ¡ãƒ¼ã‚¸å‡¦ç†
```json
{
  "sharp": "^0.34.3"
}
```

## ğŸ”§ ä¾å­˜é–¢ä¿‚ç®¡ç†

### ãƒãƒ¼ã‚¸ãƒ§ãƒ³æˆ¦ç•¥

| è¨˜å· | æ„å‘³ | ä¾‹ | èª¬æ˜ |
|------|------|---|------|
| `^` | ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³å›ºå®š | `^3.17.13` | 3.x.x ã®æœ€æ–° |
| `~` | ãƒã‚¤ãƒŠãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³å›ºå®š | `~3.17.13` | 3.17.x ã®æœ€æ–° |
| å›ºå®š | å®Œå…¨å›ºå®š | `3.17.13` | å®Œå…¨ã«å›ºå®š |

### ä¾å­˜é–¢ä¿‚ã®æ›´æ–°

```bash
# ä¾å­˜é–¢ä¿‚ã®ç¢ºèª
npm outdated

# ä¾å­˜é–¢ä¿‚ã®æ›´æ–°
npm update

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§ã®ç¢ºèª
npm audit

# è„†å¼±æ€§ã®è‡ªå‹•ä¿®æ­£
npm audit fix
```

### ä¾å­˜é–¢ä¿‚ã®è¿½åŠ ãƒ»å‰Šé™¤

```bash
# æœ¬ç•ªä¾å­˜é–¢ä¿‚ã®è¿½åŠ 
npm install <package-name>

# é–‹ç™ºä¾å­˜é–¢ä¿‚ã®è¿½åŠ 
npm install -D <package-name>

# ä¾å­˜é–¢ä¿‚ã®å‰Šé™¤
npm uninstall <package-name>

# ç‰¹å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æŒ‡å®š
npm install effect@^3.17.13
```

## ğŸ¯ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³

### æ–°ã—ã„ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®è¿½åŠ 

```json
{
  "scripts": {
    "dev:debug": "DEBUG=true npm run dev",
    "build:analyze": "npm run build && npx vite-bundle-analyzer",
    "test:debug": "npm test -- --inspect-brk",
    "deps:check": "madge --circular src/",
    "deps:graph": "madge --image deps.svg src/"
  }
}
```

### ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

```json
{
  "scripts": {
    "dev": "NODE_ENV=development vite",
    "build": "NODE_ENV=production tsc && vite build",
    "test": "NODE_ENV=test vitest"
  }
}
```

## ğŸ“Š ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æƒ…å ±

### ç·è¨ˆ
- **æœ¬ç•ªä¾å­˜é–¢ä¿‚**: 8ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
- **é–‹ç™ºä¾å­˜é–¢ä¿‚**: 19ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
- **ç·ã‚¹ã‚¯ãƒªãƒ—ãƒˆæ•°**: 8å€‹

### ã‚µã‚¤ã‚ºåˆ†æ
```bash
# ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚µã‚¤ã‚ºåˆ†æ
npx cost-of-modules

# ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºåˆ†æ
npm run build && npx vite-bundle-analyzer
```

## ğŸš¨ æ³¨æ„äº‹é …

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

1. **private: true**
   - npmå…¬é–‹ã‚’é˜²ãé‡è¦ãªè¨­å®š
   - èª¤ã£ã¦å…¬é–‹ã•ã‚Œã‚‹ã“ã¨ã‚’é˜²æ­¢

2. **ä¾å­˜é–¢ä¿‚ã®è„†å¼±æ€§**
   ```bash
   # å®šæœŸçš„ãªè„†å¼±æ€§ãƒã‚§ãƒƒã‚¯
   npm audit

   # é«˜ãƒ»é‡è¦åº¦ã®è„†å¼±æ€§ã®ã¿è¡¨ç¤º
   npm audit --audit-level high
   ```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

1. **sideEffects: false**
   - Tree-shakingã®æœ€é©åŒ–
   - ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã®å‰Šæ¸›

2. **type: module**
   - ES Modulesã®ä½¿ç”¨
   - ãƒ¢ãƒ€ãƒ³ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ 

## ğŸ” ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

#### ä¾å­˜é–¢ä¿‚ã®ç«¶åˆ
```bash
# package-lock.jsonã‚’å‰Šé™¤ã—ã¦å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
rm package-lock.json
npm install
```

#### TypeScriptãƒãƒ¼ã‚¸ãƒ§ãƒ³ç«¶åˆ
```bash
# ãƒ­ãƒ¼ã‚«ãƒ«TypeScriptãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
npx tsc --version

# ã‚°ãƒ­ãƒ¼ãƒãƒ«TypeScriptãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
tsc --version
```

#### ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œã‚¨ãƒ©ãƒ¼
```bash
# æ¨©é™å•é¡Œã®è§£æ±º
chmod +x node_modules/.bin/*

# ãƒ‘ã‚¹ã®ç¢ºèª
echo $PATH
```

## ğŸ”— é–¢é€£ãƒªã‚½ãƒ¼ã‚¹

- [TypeScript Config](./typescript-config.md) - TypeScriptè¨­å®šã®è©³ç´°
- [Vite Config](./vite-config.md) - Viteè¨­å®šã®è©³ç´°
- [CLI Commands](../cli-commands/README.md) - package.jsonã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œæ–¹æ³•
- [Troubleshooting](../troubleshooting/dependency-issues.md) - ä¾å­˜é–¢ä¿‚å•é¡Œã®è§£æ±ºæ–¹æ³•