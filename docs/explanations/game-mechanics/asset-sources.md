---
title: 'ã‚¢ã‚»ãƒƒãƒˆã‚½ãƒ¼ã‚¹'
description: 'ã‚¢ã‚»ãƒƒãƒˆã‚½ãƒ¼ã‚¹ã«é–¢ã™ã‚‹è©³ç´°ãªèª¬æ˜ã¨ã‚¬ã‚¤ãƒ‰ã€‚'
category: 'reference'
difficulty: 'beginner'
tags: ['typescript', 'minecraft']
estimated_reading_time: '5åˆ†'
---

# ãƒ•ãƒªãƒ¼ã‚¢ã‚»ãƒƒãƒˆã®å…¥æ‰‹å…ˆ

TypeScript Minecraft Cloneãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ç”¨å¯èƒ½ãªé«˜å“è³ªãƒ•ãƒªãƒ¼ã‚¢ã‚»ãƒƒãƒˆã®ä½“ç³»çš„ãªåé›†ãƒ»æ´»ç”¨ã‚¬ã‚¤ãƒ‰ã§ã™ã€‚æœ¬æ–‡æ›¸ã§ã¯ã€ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ãŒç·©ã‚„ã‹ã§å•†ç”¨åˆ©ç”¨å¯èƒ½ãªãƒ†ã‚¯ã‚¹ãƒãƒ£ã€éŸ³æ¥½ã€åŠ¹æœéŸ³ã®ä¸»è¦ãªå…¥æ‰‹å…ˆã‚’ã€å®Ÿè·µçš„ãªè¦³ç‚¹ã‹ã‚‰è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚

## ğŸ“‹ ç·åˆçš„ãªã‚¢ã‚»ãƒƒãƒˆè©•ä¾¡åŸºæº–

ã‚¢ã‚»ãƒƒãƒˆé¸æŠã«ãŠã„ã¦ä»¥ä¸‹ã®åŸºæº–ã‚’é‡è¦–ã—ã¦ã„ã¾ã™ï¼š

### å“è³ªåŸºæº–

- **è§£åƒåº¦**: 16x16ãƒ”ã‚¯ã‚»ãƒ«ï¼ˆMinecraftæ¨™æº–ï¼‰ã¾ãŸã¯ãã®å€æ•°
- **ä¸€è²«æ€§**: ã‚¹ã‚¿ã‚¤ãƒ«ã¨è‰²èª¿ã®çµ±ä¸€æ€§
- **æœ€é©åŒ–**: ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã¨èª­ã¿è¾¼ã¿é€Ÿåº¦ã®ãƒãƒ©ãƒ³ã‚¹
- **æ‹¡å¼µæ€§**: å°†æ¥çš„ãªè¿½åŠ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ã®äº’æ›æ€§

### ãƒ©ã‚¤ã‚»ãƒ³ã‚¹åŸºæº–

- **å•†ç”¨åˆ©ç”¨**: å•†ç”¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®åˆ©ç”¨å¯èƒ½æ€§
- **æ”¹å¤‰è¨±å¯**: ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã¨ãƒªãƒŸãƒƒã‚¯ã‚¹ã®è‡ªç”±åº¦
- **å¸°å±è¡¨ç¤º**: ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆè¦ä»¶ã®æ˜ç¢ºæ€§
- **å†é…å¸ƒ**: ã‚¢ã‚»ãƒƒãƒˆã®å†é…å¸ƒã«é–¢ã™ã‚‹åˆ¶é™

## ğŸ¨ ãƒ†ã‚¯ã‚¹ãƒãƒ£ãƒ»ãƒªã‚½ãƒ¼ã‚¹ãƒ‘ãƒƒã‚¯

### ä¸»è¦ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

#### **OpenGameArt.org**

- **URL**: [https://opengameart.org/](https://opengameart.org/)
- **ç‰¹å¾´**: æœ€å¤§ç´šã®ãƒ•ãƒªãƒ¼ã‚²ãƒ¼ãƒ ã‚¢ã‚»ãƒƒãƒˆãƒ»ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£
- **å¼·ã¿**:
  - CC0ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ï¼ˆãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼‰ãŒè±Šå¯Œ
  - Minecrafté¢¨ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®é«˜å“è³ªã‚»ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³
  - ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«ã‚ˆã‚‹å“è³ªè©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ 
  - ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®è©³ç´°æ¤œç´¢æ©Ÿèƒ½
- **æ¨å¥¨æ¤œç´¢ã‚¿ã‚°**: `minecraft`, `blocks`, `textures`, `16x16`
- **æ³¨æ„ç‚¹**: å€‹åˆ¥ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç¢ºèªãŒå¿…è¦ï¼ˆCC0ä»¥å¤–ã‚‚å«ã‚€ï¼‰

#### **Modrinth**

- **URL**: [https://modrinth.com/resourcepacks](https://modrinth.com/resourcepacks)
- **ç‰¹å¾´**: ç¾ä»£çš„ãªMinecraftãƒªã‚½ãƒ¼ã‚¹ãƒ‘ãƒƒã‚¯ãƒ»ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 
- **å¼·ã¿**:
  - æ•°åƒã®Minecraftãƒªã‚½ãƒ¼ã‚¹ãƒ‘ãƒƒã‚¯ã‚’ç¶²ç¾…
  - ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½
  - ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
  - é«˜è§£åƒåº¦ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»åƒ
- **æ´»ç”¨æ–¹æ³•**:
  ```typescript
  // ãƒªã‚½ãƒ¼ã‚¹ãƒ‘ãƒƒã‚¯çµ±åˆã®ä¾‹
  const loadResourcePack = async (packId: string) => {
    const pack = await fetchResourcePack(packId)
    return parseMinecraftResourcePack(pack)
  }
  ```

#### **Pixabay**

- **URL**: [https://pixabay.com/](https://pixabay.com/)
- **ç‰¹å¾´**: æ±ç”¨ç”»åƒãƒ»ãƒ†ã‚¯ã‚¹ãƒãƒ£ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **å¼·ã¿**:
  - å•†ç”¨åˆ©ç”¨ç„¡æ–™ã€å¸°å±è¡¨ç¤ºä¸è¦
  - é«˜å“è³ªãªæ±ç”¨ãƒ†ã‚¯ã‚¹ãƒãƒ£
  - AIç”Ÿæˆç”»åƒã‚‚å«ã‚€è±Šå¯Œãªã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³
- **æ¤œç´¢æˆ¦ç•¥**: `texture`, `seamless`, `material`, `stone`, `wood`

### å°‚é–€çš„ãƒ†ã‚¯ã‚¹ãƒãƒ£ãƒªã‚½ãƒ¼ã‚¹

#### **CC0 Textures**

- **URL**: [https://cc0textures.com/](https://cc0textures.com/)
- **ç‰¹å¾´**: ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‰ãƒ¡ã‚¤ãƒ³ã®é«˜å“è³ªPBRãƒ†ã‚¯ã‚¹ãƒãƒ£
- **æä¾›å½¢å¼**: Diffuse, Normal, Roughness, Displacement maps
- **è§£åƒåº¦**: 1K-8Kï¼ˆãƒ€ã‚¦ãƒ³ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°æ¨å¥¨ï¼‰

#### **Freepik**

- **URL**: [https://www.freepik.com/](https://www.freepik.com/)
- **ç‰¹å¾´**: ãƒ—ãƒ¬ãƒŸã‚¢ãƒ å“è³ªã®ãƒ•ãƒªãƒ¼ãƒªã‚½ãƒ¼ã‚¹
- **åˆ¶é™**: å¸°å±è¡¨ç¤ºå¿…é ˆï¼ˆæœ‰æ–™ç‰ˆã§å…é™¤ï¼‰
- **å¼·ã¿**: ã‚¹ã‚¿ã‚¤ãƒ«çµ±ä¸€ã•ã‚ŒãŸã‚¢ã‚»ãƒƒãƒˆã‚»ãƒƒãƒˆ

## ğŸ”Š éŸ³æ¥½ãƒ»åŠ¹æœéŸ³

### ä¸»è¦ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

#### **Freesound.org**

- **URL**: [https://freesound.org/](https://freesound.org/)
- **ç‰¹å¾´**: ä¸–ç•Œæœ€å¤§ã®ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ãƒ»ã‚³ãƒ¢ãƒ³ã‚ºéŸ³éŸ¿ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **å¼·ã¿**:
  - 600ä¸‡ä»¥ä¸Šã®éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«
  - è©³ç´°ãªãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã¨ã‚¿ã‚°ã‚·ã‚¹ãƒ†ãƒ 
  - ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¨ãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
- **æ¨å¥¨æ¤œç´¢**: `minecraft`, `block`, `footstep`, `ambient`, `cave`
- **æŠ€è¡“çš„è€ƒæ…®**:
  ```typescript
  // éŸ³éŸ¿åŠ¹æœã®å®Ÿè£…ä¾‹
  const playBlockBreakSound = (blockType: BlockType) => {
    const soundId = getSoundMapping(blockType)
    return audioEngine.playSound(soundId, { volume: 0.8, pitch: randomPitch() })
  }
  ```

#### **Pixabay Audio**

- **URL**: [https://pixabay.com/music/](https://pixabay.com/music/)
- **ç‰¹å¾´**: ãƒ­ã‚¤ãƒ¤ãƒªãƒ†ã‚£ãƒ•ãƒªãƒ¼éŸ³æ¥½ãƒ»åŠ¹æœéŸ³
- **å¼·ã¿**:
  - å¸°å±è¡¨ç¤ºä¸è¦
  - å•†ç”¨åˆ©ç”¨ç„¡åˆ¶é™
  - é«˜å“è³ªãªãƒ«ãƒ¼ãƒ—å¯èƒ½æ¥½æ›²
- **ã‚«ãƒ†ã‚´ãƒª**: ã‚¢ãƒ³ãƒ“ã‚¨ãƒ³ãƒˆã€ã‚²ãƒ¼ãƒ éŸ³æ¥½ã€åŠ¹æœéŸ³

#### **itch.io (CC0 Assets)**

- **URL**: [https://itch.io/game-assets/free/tag-cc0](https://itch.io/game-assets/free/tag-cc0)
- **ç‰¹å¾´**: ã‚¤ãƒ³ãƒ‡ã‚£ãƒ¼ã‚²ãƒ¼ãƒ é–‹ç™ºè€…ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£
- **å¼·ã¿**:
  - ã‚²ãƒ¼ãƒ ç‰¹åŒ–ã®é«˜å“è³ªã‚¢ã‚»ãƒƒãƒˆ
  - ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆCC0ï¼‰ãƒ©ã‚¤ã‚»ãƒ³ã‚¹
  - ãƒ¦ãƒ‹ãƒ¼ã‚¯ã§å‰µé€ çš„ãªéŸ³éŸ¿ãƒ‡ã‚¶ã‚¤ãƒ³

### å°‚é–€ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªãƒªã‚½ãƒ¼ã‚¹

#### **Zapsplat**

- **URL**: [https://www.zapsplat.com/](https://www.zapsplat.com/)
- **ç‰¹å¾´**: ãƒ—ãƒ­å“è³ªã®åŠ¹æœéŸ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **åˆ¶é™**: ç„¡æ–™ç‰ˆã¯æœˆé–“ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰åˆ¶é™ã‚ã‚Š
- **å¼·ã¿**: é«˜å“è³ªã€ã‚«ãƒ†ã‚´ãƒªåˆ¥æ•´ç†

#### **YouTube Audio Library**

- **URL**: [https://studio.youtube.com/](https://studio.youtube.com/)
- **ç‰¹å¾´**: YouTubeã®ç„¡æ–™éŸ³æ¥½ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **æ´»ç”¨**: BGMã€ã‚¢ãƒ³ãƒ“ã‚¨ãƒ³ãƒˆéŸ³æ¥½

## ğŸ›  æŠ€è¡“çš„çµ±åˆã‚¬ã‚¤ãƒ‰

### ã‚¢ã‚»ãƒƒãƒˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®è¨­è¨ˆ

```typescript
// ã‚¢ã‚»ãƒƒãƒˆç®¡ç†ã®åŠ¹æœçš„ãªãƒ‘ã‚¿ãƒ¼ãƒ³
export interface AssetManager {
  readonly loadTexture: (path: string) => Effect.Effect<Texture, AssetError>
  readonly loadSound: (path: string) => Effect.Effect<AudioBuffer, AssetError>
  readonly preloadAssets: (manifest: AssetManifest) => Effect.Effect<void, AssetError>
}

export const AssetManager = Context.GenericTag<AssetManager>('@minecraft/AssetManager')

// Schemaé§†å‹•ã®ã‚¢ã‚»ãƒƒãƒˆå®šç¾©
const TextureSchema = Schema.Struct({
  id: Schema.String,
  path: Schema.String,
  license: Schema.Literal('CC0', 'CC-BY', 'MIT'),
  attribution: Schema.optional(Schema.String),
  resolution: Schema.Struct({
    width: Schema.Number,
    height: Schema.Number,
  }),
})

const AssetManifestSchema = Schema.Struct({
  textures: Schema.Array(TextureSchema),
  sounds: Schema.Array(SoundSchema),
  version: Schema.String,
})
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

```typescript
// ãƒ†ã‚¯ã‚¹ãƒãƒ£ã‚¢ãƒˆãƒ©ã‚¹ã®åŠ¹æœçš„åˆ©ç”¨
const createTextureAtlas = Effect.gen(function* () {
  const assetManager = yield* AssetManager
  const textures = yield* assetManager.loadTextureSet(blockTextures)

  return pipe(
    textures,
    packIntoAtlas({ size: 512, padding: 2 }),
    Effect.tap((atlas) => Effect.log(`Created atlas: ${atlas.width}x${atlas.height}`))
  )
})

// é…å»¶èª­ã¿è¾¼ã¿ã«ã‚ˆã‚‹ãƒ¡ãƒ¢ãƒªæœ€é©åŒ–
const lazyLoadChunkAssets = (chunkCoord: ChunkCoordinate) =>
  Effect.gen(function* () {
    const requiredAssets = yield* analyzeChunkAssets(chunkCoord)
    const loader = yield* AssetManager

    return yield* pipe(
      requiredAssets,
      Effect.forEach((asset) => loader.loadTexture(asset.path), { concurrency: 4 }),
      Effect.withSpan('chunk-asset-loading', { attributes: { chunkX: chunkCoord.x, chunkZ: chunkCoord.z } })
    )
  })
```

## ğŸ“‹ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç®¡ç†ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### çµ„ç¹”çš„ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç®¡ç†

#### **ãƒ©ã‚¤ã‚»ãƒ³ã‚¹è¿½è·¡ã‚·ã‚¹ãƒ†ãƒ **

```typescript
// ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ã®æ§‹é€ åŒ–ç®¡ç†
const LicenseSchema = Schema.Struct({
  type: Schema.Literal('CC0', 'CC-BY', 'CC-BY-SA', 'MIT', 'Apache-2.0'),
  attribution: Schema.optional(Schema.String),
  url: Schema.String,
  restrictions: Schema.Array(Schema.String),
})

const AssetLicenseSchema = Schema.Struct({
  assetId: Schema.String,
  source: Schema.String,
  author: Schema.String,
  license: LicenseSchema,
  downloadDate: Schema.DateTimeUtc,
  notes: Schema.optional(Schema.String),
})
```

#### **è‡ªå‹•åŒ–ã•ã‚ŒãŸãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç¢ºèª**

```typescript
// ãƒ©ã‚¤ã‚»ãƒ³ã‚¹é©åˆæ€§ã®è‡ªå‹•ãƒã‚§ãƒƒã‚¯
const validateAssetLicenses = Effect.gen(function* () {
  const manifest = yield* loadAssetManifest()
  const licenses = yield* pipe(
    manifest.assets,
    Effect.forEach((asset) => validateLicense(asset.license))
  )

  const violations = licenses.filter((l) => !l.isValid)
  if (violations.length > 0) {
    return yield* Effect.fail(new LicenseViolationError({ violations }))
  }

  return yield* generateAttributionFile(licenses)
})
```

### æ¨å¥¨ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç®¡ç†

#### **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ **

```
assets/
â”œâ”€â”€ licenses/
â”‚   â”œâ”€â”€ ASSET_LICENSES.md      # å…¨ã‚¢ã‚»ãƒƒãƒˆã®è©³ç´°ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±
â”‚   â”œâ”€â”€ attribution.json       # æ©Ÿæ¢°èª­ã¿å–ã‚Šå¯èƒ½ãªå¸°å±æƒ…å ±
â”‚   â””â”€â”€ compliance-check.ts    # ãƒ©ã‚¤ã‚»ãƒ³ã‚¹é©åˆæ€§æ¤œè¨¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ textures/
â”‚   â”œâ”€â”€ blocks/
â”‚   â””â”€â”€ items/
â””â”€â”€ sounds/
    â”œâ”€â”€ ambient/
    â””â”€â”€ effects/
```

#### **ASSET_LICENSES.md ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**

```markdown
# ã‚¢ã‚»ãƒƒãƒˆãƒ©ã‚¤ã‚»ãƒ³ã‚¹

## ãƒ†ã‚¯ã‚¹ãƒãƒ£

- **stone.png**
  - ä½œè€…: John Doe
  - ãƒ©ã‚¤ã‚»ãƒ³ã‚¹: CC0 (Public Domain)
  - å‡ºå…¸: OpenGameArt.org
  - URL: https://example.com/stone-texture
  - ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ—¥: 2025-01-15

## éŸ³æ¥½ãƒ»åŠ¹æœéŸ³

- **cave_ambient.ogg**
  - ä½œè€…: Jane Smith
  - ãƒ©ã‚¤ã‚»ãƒ³ã‚¹: CC-BY 4.0
  - å‡ºå…¸: Freesound.org
  - å¸°å±è¡¨ç¤º: "Cave Ambient by Jane Smith (freesound.org)"
  - URL: https://freesound.org/example
  - ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ—¥: 2025-01-15
```

## ğŸ¯ å®Ÿè·µçš„ãªé–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### æ®µéšçš„ã‚¢ã‚»ãƒƒãƒˆçµ±åˆ

1. **ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—æ®µéš**: CC0ã‚¢ã‚»ãƒƒãƒˆã§é«˜é€Ÿé–‹ç™º
2. **ã‚¢ãƒ«ãƒ•ã‚¡ç‰ˆ**: å“è³ªã¨ã‚¹ã‚¿ã‚¤ãƒ«çµ±ä¸€æ€§ã®å‘ä¸Š
3. **ãƒ™ãƒ¼ã‚¿ç‰ˆ**: ãƒ©ã‚¤ã‚»ãƒ³ã‚¹é©åˆæ€§ã®æœ€çµ‚ç¢ºèª
4. **ãƒªãƒªãƒ¼ã‚¹ç‰ˆ**: ãƒ—ãƒ­å“è³ªã‚¢ã‚»ãƒƒãƒˆã®é¸æŠçš„é©ç”¨

### ç¶™ç¶šçš„å“è³ªç®¡ç†

```typescript
// ã‚¢ã‚»ãƒƒãƒˆå“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹
const assetQualityCheck = Effect.gen(function* () {
  const metrics = yield* pipe(
    loadAllAssets(),
    Effect.map((assets) => ({
      totalSize: calculateTotalSize(assets),
      averageLoadTime: measureLoadTime(assets),
      memoryUsage: calculateMemoryFootprint(assets),
      licenseCompliance: validateAllLicenses(assets),
    }))
  )

  yield* Effect.log(`Asset Quality Report: ${JSON.stringify(metrics, null, 2)}`)
  return metrics
})
```

## ğŸš€ é«˜åº¦ãªã‚¢ã‚»ãƒƒãƒˆæœ€é©åŒ–æˆ¦ç•¥

### WebPãƒ»AVIFå½¢å¼ã®æ´»ç”¨

```typescript
// æ¬¡ä¸–ä»£ç”»åƒãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®åŠ¹æœçš„ãªæ´»ç”¨
export const ImageFormatOptimizer = {
  // ãƒ–ãƒ©ã‚¦ã‚¶ã‚µãƒãƒ¼ãƒˆæ¤œå‡º
  detectOptimalFormat: Effect.gen(function* () {
    const canvas = document.createElement('canvas')
    canvas.width = canvas.height = 1
    const ctx = canvas.getContext('2d')!

    const formats = {
      webp: canvas.toDataURL('image/webp').startsWith('data:image/webp'),
      avif: canvas.toDataURL('image/avif').startsWith('data:image/avif'),
    }

    if (formats.avif) return 'avif' // æœ€é«˜åœ§ç¸®ç‡
    if (formats.webp) return 'webp' // åºƒã„ã‚µãƒãƒ¼ãƒˆ
    return 'png' // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
  }),

  // å‹•çš„ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆé¸æŠ
  loadOptimalTexture: (basePath: string) =>
    Effect.gen(function* () {
      const format = yield* ImageFormatOptimizer.detectOptimalFormat()
      const path = `${basePath}.${format}`

      return yield* pipe(
        loadImageWithFallback([`${basePath}.avif`, `${basePath}.webp`, `${basePath}.png`]),
        Effect.withSpan('optimal-texture-loading', { attributes: { format, path } })
      )
    }),
}
```

### Progressive Web App (PWA) å¯¾å¿œ

```typescript
// Service Worker ã«ã‚ˆã‚‹ã‚¢ã‚»ãƒƒãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°
export const AssetCacheManager = {
  // æˆ¦ç•¥çš„ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°
  setupAssetCaching: Effect.gen(function* () {
    if ('serviceWorker' in navigator) {
      const registration = yield* Effect.promise(() => navigator.serviceWorker.register('/asset-cache-worker.js'))

      // ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã®è¨­å®š
      const cacheStrategies = {
        textures: 'cache-first', // ãƒ†ã‚¯ã‚¹ãƒãƒ£ã¯é•·æœŸã‚­ãƒ£ãƒƒã‚·ãƒ¥
        sounds: 'stale-while-revalidate', // éŸ³å£°ã¯èƒŒæ™¯æ›´æ–°
        manifests: 'network-first', // ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã¯æœ€æ–°ã‚’å„ªå…ˆ
      }

      return registration
    }
  }),

  // ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ
  enableOfflineAssets: Effect.gen(function* () {
    const essentialAssets = [
      '/textures/blocks/stone.webp',
      '/textures/blocks/grass.webp',
      '/sounds/ambient/cave.ogg',
      '/manifests/core-assets.json',
    ]

    yield* pipe(
      essentialAssets,
      Effect.forEach((asset) => cacheAsset(asset), { concurrency: 3 }),
      Effect.withSpan('offline-asset-preparation')
    )
  }),
}
```

## ğŸ¨ ãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£ãƒ«ãƒ»ã‚¢ã‚»ãƒƒãƒˆç”Ÿæˆ

### å‹•çš„ãƒ†ã‚¯ã‚¹ãƒãƒ£ç”Ÿæˆ

```typescript
// Canvas APIã‚’ä½¿ç”¨ã—ãŸãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£ãƒ«ãƒ†ã‚¯ã‚¹ãƒãƒ£
export const ProceduralTextureGenerator = {
  // ãƒã‚¤ã‚ºãƒ™ãƒ¼ã‚¹ãƒ†ã‚¯ã‚¹ãƒãƒ£ç”Ÿæˆ
  generateNoiseTexture: (width: number = 16, height: number = 16, seed: number = Math.random()) =>
    Effect.gen(function* () {
      const canvas = document.createElement('canvas')
      canvas.width = width
      canvas.height = height
      const ctx = canvas.getContext('2d')!

      const imageData = ctx.createImageData(width, height)
      const noise = new SimplexNoise(seed)

      for (let y = 0; y < height; y++) {
        for (let x = 0; x < width; x++) {
          const index = (y * width + x) * 4
          const value = Math.floor((noise.noise2D(x / 8, y / 8) + 1) * 127.5)

          imageData.data[index] = value // R
          imageData.data[index + 1] = value // G
          imageData.data[index + 2] = value // B
          imageData.data[index + 3] = 255 // A
        }
      }

      ctx.putImageData(imageData, 0, 0)
      return canvas.toDataURL('image/png')
    }),

  // ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¯ã‚¹ãƒãƒ£ç”Ÿæˆ
  generateBlockVariations: (baseTexture: HTMLImageElement, variants: number = 4) =>
    Effect.gen(function* () {
      const variations: string[] = []

      for (let i = 0; i < variants; i++) {
        const canvas = document.createElement('canvas')
        canvas.width = baseTexture.width
        canvas.height = baseTexture.height
        const ctx = canvas.getContext('2d')!

        // åŸºæœ¬ãƒ†ã‚¯ã‚¹ãƒãƒ£æç”»
        ctx.drawImage(baseTexture, 0, 0)

        // ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³é©ç”¨
        const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height)
        applyColorVariation(imageData, i * 0.1) // è‰²ç›¸å¤‰åŒ–
        applyNoiseOverlay(imageData, 0.05) // ãƒã‚¤ã‚ºè¿½åŠ 

        ctx.putImageData(imageData, 0, 0)
        variations.push(canvas.toDataURL('image/png'))
      }

      return variations
    }),
}
```

### éŸ³éŸ¿ãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£ãƒ«ç”Ÿæˆ

```typescript
// Web Audio APIã«ã‚ˆã‚‹å‹•çš„éŸ³éŸ¿ç”Ÿæˆ
export const ProceduralAudioGenerator = {
  // ç’°å¢ƒéŸ³ã®å‹•çš„ç”Ÿæˆ
  generateAmbientSound: (biome: BiomeType, duration: number = 30) =>
    Effect.gen(function* () {
      const audioContext = new AudioContext()
      const buffer = audioContext.createBuffer(2, audioContext.sampleRate * duration, audioContext.sampleRate)

      for (let channel = 0; channel < buffer.numberOfChannels; channel++) {
        const data = buffer.getChannelData(channel)

        // ãƒã‚¤ã‚ªãƒ¼ãƒ åˆ¥ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
        const params = getBiomeAudioParams(biome)

        for (let i = 0; i < data.length; i++) {
          const time = i / audioContext.sampleRate

          // è¤‡æ•°å‘¨æ³¢æ•°ã®é‡ã­åˆã‚ã›ã§ã‚¢ãƒ³ãƒ“ã‚¨ãƒ³ãƒˆéŸ³ç”Ÿæˆ
          let sample = 0
          params.frequencies.forEach((freq) => {
            sample += Math.sin(2 * Math.PI * freq * time) * params.amplitude
          })

          // ãƒã‚¤ã‚ºè¿½åŠ 
          sample += (Math.random() - 0.5) * params.noiseLevel

          data[i] = sample
        }
      }

      return buffer
    }),

  // è¶³éŸ³ã®å‹•çš„ç”Ÿæˆ
  generateFootstepSound: (material: MaterialType, intensity: number = 1.0) =>
    Effect.gen(function* () {
      const audioContext = new AudioContext()
      const duration = 0.2
      const buffer = audioContext.createBuffer(2, audioContext.sampleRate * duration, audioContext.sampleRate)

      const materialProps = getMaterialSoundProperties(material)

      for (let channel = 0; channel < buffer.numberOfChannels; channel++) {
        const data = buffer.getChannelData(channel)

        for (let i = 0; i < data.length; i++) {
          const time = i / audioContext.sampleRate
          const envelope = Math.exp(-time * materialProps.decay)

          // ãƒãƒ†ãƒªã‚¢ãƒ«ç‰¹æ€§ã«åŸºã¥ãéŸ³ç”Ÿæˆ
          let sample = 0
          materialProps.harmonics.forEach((harmonic, index) => {
            const freq = materialProps.baseFreq * (index + 1)
            sample += Math.sin(2 * Math.PI * freq * time) * harmonic * envelope
          })

          data[i] = sample * intensity
        }
      }

      return buffer
    }),
}
```

## ğŸ”„ ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ»ã‚¢ã‚»ãƒƒãƒˆãƒ»ã‚·ã‚¹ãƒ†ãƒ 

### é©å¿œçš„å“è³ªèª¿æ•´

```typescript
// ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯çŠ¶æ³ã«å¿œã˜ãŸå‹•çš„å“è³ªèª¿æ•´
export const AdaptiveQualityManager = {
  // ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç›£è¦–
  monitorNetworkConditions: Stream.periodic(Duration.seconds(5)).pipe(
    Stream.map(() => ({
      bandwidth: navigator.connection?.downlink ?? 10,
      latency: measureLatency(),
      effectiveType: navigator.connection?.effectiveType ?? '4g',
    })),
    Stream.changes
  ),

  // å“è³ªãƒ¬ãƒ™ãƒ«å‹•çš„èª¿æ•´
  adjustAssetQuality: (networkConditions: NetworkConditions) =>
    Effect.gen(function* () {
      const qualityLevel = determineQualityLevel(networkConditions)

      const assetConfig = Match.value(qualityLevel).pipe(
        Match.when('low', () => ({
          textureResolution: 16,
          audioQuality: 'mono',
          compressionLevel: 9,
        })),
        Match.when('medium', () => ({
          textureResolution: 32,
          audioQuality: 'stereo',
          compressionLevel: 6,
        })),
        Match.when('high', () => ({
          textureResolution: 64,
          audioQuality: 'stereo',
          compressionLevel: 3,
        })),
        Match.exhaustive
      )

      yield* updateAssetPipeline(assetConfig)
      yield* Effect.log(`Asset quality adjusted to: ${qualityLevel}`)
    }),

  // ãƒ—ãƒ¬ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°æˆ¦ç•¥
  smartPrefetch: (playerPosition: Vector3, viewDistance: number) =>
    Effect.gen(function* () {
      const nearbyChunks = calculateNearbyChunks(playerPosition, viewDistance)
      const assetPriorities = calculateAssetPriorities(nearbyChunks, playerPosition)

      // å„ªå…ˆåº¦é †ã«ã‚¢ã‚»ãƒƒãƒˆã‚’ãƒ—ãƒªãƒ•ã‚§ãƒƒãƒ
      yield* pipe(
        assetPriorities,
        Effect.forEach(
          (asset) => prefetchAsset(asset.path).pipe(Effect.timeout(Duration.seconds(asset.priority * 2))),
          { concurrency: 3 }
        )
      )
    }),
}
```

### ãƒ¡ãƒ¢ãƒªåŠ¹ç‡çš„ãªã‚¢ã‚»ãƒƒãƒˆç®¡ç†

```typescript
// LRUã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨ãƒ¡ãƒ¢ãƒªãƒ—ãƒ¼ãƒ«
export const MemoryEfficientAssetManager = {
  // ã‚¦ã‚£ãƒ¼ã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ãƒ™ãƒ¼ã‚¹ã‚­ãƒ£ãƒƒã‚·ãƒ¥
  cache: (WeakMap<AssetKey, AssetData> = new WeakMap()),
  lruCache: LRUCache<string, Promise<AssetData>>,

  // ãƒ¡ãƒ¢ãƒªãƒ—ãƒ¼ãƒ«ã«ã‚ˆã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå†åˆ©ç”¨
  setupMemoryPools: Effect.gen(function* () {
    const pools = {
      textures: new ObjectPool(() => new TextureData(), 100),
      audioBuffers: new ObjectPool(() => new AudioBufferData(), 50),
      meshes: new ObjectPool(() => new MeshData(), 200),
    }

    return pools
  }),

  // è‡ªå‹•ã‚¬ãƒ™ãƒ¼ã‚¸ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³
  autoGarbageCollection: Stream.periodic(Duration.minutes(2)).pipe(
    Stream.mapEffect(() =>
      Effect.gen(function* () {
        // ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„ã‚¢ã‚»ãƒƒãƒˆã‚’ç‰¹å®š
        const unusedAssets = yield* identifyUnusedAssets()

        // æ®µéšçš„ã«ãƒ¡ãƒ¢ãƒªã‹ã‚‰è§£æ”¾
        yield* pipe(
          unusedAssets,
          Effect.forEach((asset) => releaseAsset(asset), { concurrency: 2 }),
          Effect.delay(Duration.millis(100)) // GCåœ§è¿«ã‚’é¿ã‘ã‚‹
        )

        // ãƒ•ã‚¡ã‚¤ãƒŠãƒ©ã‚¤ã‚¶ãƒ¼å®Ÿè¡Œä¿ƒé€²
        if (window.gc) window.gc()

        yield* Effect.log(`Released ${unusedAssets.length} unused assets`)
      })
    )
  ),
}
```

## ğŸ›¡ï¸ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»æ•´åˆæ€§ç®¡ç†

### ã‚¢ã‚»ãƒƒãƒˆæ•´åˆæ€§æ¤œè¨¼

```typescript
// Subresource Integrity (SRI) ã«ã‚ˆã‚‹æ¤œè¨¼
export const AssetIntegrityManager = {
  // ãƒãƒƒã‚·ãƒ¥ãƒ™ãƒ¼ã‚¹æ¤œè¨¼
  generateAssetManifest: Effect.gen(function* () {
    const assetPaths = yield* discoverAllAssets()
    const manifest: AssetManifest = {
      version: '1.0.0',
      assets: {},
    }

    for (const path of assetPaths) {
      const data = yield* loadAssetBinary(path)
      const hash = yield* calculateSHA384(data)

      manifest.assets[path] = {
        integrity: `sha384-${hash}`,
        size: data.byteLength,
        lastModified: yield* getAssetModificationTime(path),
      }
    }

    return manifest
  }),

  // ãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯
  verifyAssetIntegrity: (path: string, data: ArrayBuffer) =>
    Effect.gen(function* () {
      const manifest = yield* loadAssetManifest()
      const expected = manifest.assets[path]

      if (!expected) {
        return yield* Effect.fail(new AssetIntegrityError(`Asset not in manifest: ${path}`))
      }

      const actualHash = yield* calculateSHA384(data)
      const expectedHash = expected.integrity.replace('sha384-', '')

      if (actualHash !== expectedHash) {
        return yield* Effect.fail(
          new AssetIntegrityError(`Integrity check failed for ${path}: expected ${expectedHash}, got ${actualHash}`)
        )
      }

      return true
    }),

  // Content Security Policyå¯¾å¿œ
  setupCSPHeaders: () => ({
    'Content-Security-Policy': [
      "default-src 'self'",
      "img-src 'self' data: https://opengameart.org https://pixabay.com",
      "media-src 'self' https://freesound.org https://pixabay.com",
      "connect-src 'self' https://api.github.com",
      "script-src 'self' 'sha384-ABC123...'", // SRIå¯¾å¿œ
    ].join('; '),
  }),
}
```

### ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ¤œè¨¼ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

```typescript
// AI/MLãƒ™ãƒ¼ã‚¹ã®ä¸é©åˆ‡ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ¤œå‡º
export const ContentModerationPipeline = {
  // ç”»åƒã‚³ãƒ³ãƒ†ãƒ³ãƒ„è§£æ
  analyzeImageContent: (imageData: ImageData) =>
    Effect.gen(function* () {
      // NSFWæ¤œå‡º
      const nsfwScore = yield* detectNSFWContent(imageData)

      // è‘—ä½œæ¨©ä¾µå®³æ¤œå‡ºï¼ˆãƒ‘ãƒ¼ã‚»ãƒ—ãƒãƒ¥ã‚¢ãƒ«ãƒãƒƒã‚·ãƒ¥ï¼‰
      const phash = yield* calculatePerceptualHash(imageData)
      const similarities = yield* compareWithKnownHashes(phash)

      // å“è³ªè©•ä¾¡
      const qualityMetrics = yield* assessImageQuality(imageData)

      return {
        isAppropriate: nsfwScore < 0.1,
        copyrightRisk: similarities.some((s) => s.similarity > 0.9),
        qualityScore: qualityMetrics.overall,
        recommendations: generateRecommendations(nsfwScore, similarities, qualityMetrics),
      }
    }),

  // éŸ³å£°ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è§£æ
  analyzeAudioContent: (audioBuffer: AudioBuffer) =>
    Effect.gen(function* () {
      // éŸ³éŸ¿ãƒ•ã‚£ãƒ³ã‚¬ãƒ¼ãƒ—ãƒªãƒ³ãƒˆç”Ÿæˆ
      const fingerprint = yield* generateAcousticFingerprint(audioBuffer)

      // é¡ä¼¼éŸ³å£°æ¤œç´¢
      const matches = yield* searchSimilarAudio(fingerprint)

      // å“è³ªè©•ä¾¡
      const qualityMetrics = yield* assessAudioQuality(audioBuffer)

      return {
        originalityScore: 1 - Math.max(...matches.map((m) => m.similarity)),
        qualityScore: qualityMetrics.overall,
        licensingRisk: matches.filter((m) => m.similarity > 0.8).length > 0,
      }
    }),
}
```

`â˜… Insight â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`
ã“ã®ã‚¢ã‚»ãƒƒãƒˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ã€ç¾ä»£çš„ãªWebæŠ€è¡“ã‚’æœ€å¤§é™æ´»ç”¨ã—ãŸ3ã¤ã®é©æ–°çš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’æ¡ç”¨ã—ã¦ã„ã‚‹ï¼š1) **é©å¿œçš„å“è³ªç®¡ç†**ã«ã‚ˆã‚Šãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯çŠ¶æ³ã«å¿œã˜ã¦ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§å“è³ªã‚’èª¿æ•´ã€2) **ãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£ãƒ«ç”Ÿæˆ**ã§ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã«ã‚¢ã‚»ãƒƒãƒˆã‚’å‹•çš„ç”Ÿæˆã—ã¦ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸åŠ¹ç‡ã‚’å‘ä¸Šã€3) **AIãƒ™ãƒ¼ã‚¹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ¤œè¨¼**ã§æ³•çš„ãƒªã‚¹ã‚¯ã‚’äº‹å‰ã«å›é¿ã€‚ç‰¹ã«ã€Effect-TSã®å‹å®‰å…¨ãªéåŒæœŸå‡¦ç†ã«ã‚ˆã‚Šã€è¤‡é›‘ãªã‚¢ã‚»ãƒƒãƒˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§ã‚‚ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨å¯è¦³æ¸¬æ€§ã‚’ä¿è¨¼ã—ã¦ã„ã‚‹ç‚¹ãŒæ³¨ç›®ã«å€¤ã™ã‚‹ã€‚
`â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`

## ğŸ”— é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–](../architecture/performance-guidelines.md) - ã‚¢ã‚»ãƒƒãƒˆæœ€é©åŒ–ã®è©³ç´°æˆ¦ç•¥
- [ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä»•æ§˜](../architecture/security-specification.md) - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶ã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
- [ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ](./core-features/rendering-system.md) - Three.jsã¨ã®çµ±åˆãƒ‘ã‚¿ãƒ¼ãƒ³

ã“ã®åŒ…æ‹¬çš„ãªã‚¢ã‚»ãƒƒãƒˆç®¡ç†ã«ã‚ˆã‚Šã€TypeScript Minecraft Cloneãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯æ³•çš„ãƒªã‚¹ã‚¯ã‚’å›é¿ã—ãªãŒã‚‰ã€é«˜å“è³ªã§ä¸€è²«æ€§ã®ã‚ã‚‹ã‚²ãƒ¼ãƒ ä½“é¨“ã‚’æä¾›ã§ãã¾ã™ã€‚ã•ã‚‰ã«ã€ç¾ä»£çš„ãªWebæŠ€è¡“ã‚’æ´»ç”¨ã™ã‚‹ã“ã¨ã§ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ã®ä¸¡é¢ã§ç«¶äº‰åŠ›ã®ã‚ã‚‹ã‚²ãƒ¼ãƒ ã‚’å®Ÿç¾ã—ã¾ã™ã€‚
